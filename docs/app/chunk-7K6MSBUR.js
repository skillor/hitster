import{b as Ui,c as $i,d as Zi,e as qi,i as Yi,j as gt,k as Ki,l as Xi,m as Qi,n as Ji,o as $t,p as en,q as Zt,r as Me,t as vt,u as qt,v as Oe,w as tn,x as Yt}from"./chunk-K7PB3HO7.js";import{$ as ne,$a as zi,A as Ce,Aa as ge,B as Ei,Ba as pt,Ca as Ze,D as K,Da as Wt,Ea as Ri,F as ue,Fa as Ae,G as H,Ga as _t,H as Ci,Ha as mt,I as q,Ia as Ut,J as Ft,Ja as qe,L as Ge,La as ve,M as Nt,Ma as Mi,N as L,Na as Oi,O as F,P as X,Pa as Li,Q as xe,Qa as Fi,Ra as Ni,S as Pi,Sa as Bi,T as Bt,Ta as Vi,U as dt,Ua as Re,V as Ai,W as Pe,Xa as ji,Y as S,Ya as Hi,Z as G,_ as ut,_a as Gi,a as ce,aa as ke,b as Ee,c as Kn,ca as ht,d as Xn,da as Vt,db as Wi,e as Se,ea as se,f as Be,fa as Ie,g as B,ga as M,h as Ve,ha as he,i as rt,ia as jt,j as ie,ja as Ht,k as me,ka as Gt,l as je,la as y,ma as b,n as Ii,na as W,o as st,oa as ze,p as ot,pa as We,q as Ti,qa as fe,r as Mt,s as at,sa as U,t as Ot,ta as T,u as lt,ua as ft,v as ct,va as Ue,w as Lt,wa as $e,x as Di,xa as zt,y as He,ya as R,z as re,za as pe}from"./chunk-FH2RP3FQ.js";var Rn=Kn(Dt=>{"use strict";(function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var i=this||t;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var s=this||t;if(i=parseFloat(i),s.ctx||g(),typeof i<"u"&&i>=0&&i<=1){if(s._volume=i,s._muted)return s;s.usingWebAudio&&s.masterGain.gain.setValueAtTime(i,t.ctx.currentTime);for(var c=0;c<s._howls.length;c++)if(!s._howls[c]._webAudio)for(var u=s._howls[c]._getSoundIds(),m=0;m<u.length;m++){var v=s._howls[c]._soundById(u[m]);v&&v._node&&(v._node.volume=v._volume*i)}return s}return s._volume},mute:function(i){var s=this||t;s.ctx||g(),s._muted=i,s.usingWebAudio&&s.masterGain.gain.setValueAtTime(i?0:s._volume,t.ctx.currentTime);for(var c=0;c<s._howls.length;c++)if(!s._howls[c]._webAudio)for(var u=s._howls[c]._getSoundIds(),m=0;m<u.length;m++){var v=s._howls[c]._soundById(u[m]);v&&v._node&&(v._node.muted=i?!0:v._muted)}return s},stop:function(){for(var i=this||t,s=0;s<i._howls.length;s++)i._howls[s].stop();return i},unload:function(){for(var i=this||t,s=i._howls.length-1;s>=0;s--)i._howls[s].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,g()),i},codecs:function(i){return(this||t)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||t;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var s=new Audio;typeof s.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var s=new Audio;s.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||t,s=null;try{s=typeof Audio<"u"?new Audio:null}catch{return i}if(!s||typeof s.canPlayType!="function")return i;var c=s.canPlayType("audio/mpeg;").replace(/^no$/,""),u=i._navigator?i._navigator.userAgent:"",m=u.match(/OPR\/(\d+)/g),v=m&&parseInt(m[0].split("/")[1],10)<33,f=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,w=u.match(/Version\/(.*?) /),C=f&&w&&parseInt(w[1],10)<15;return i._codecs={mp3:!!(!v&&(c||s.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!c,opus:!!s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(s.canPlayType('audio/wav; codecs="1"')||s.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!s.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!s.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(s.canPlayType("audio/x-m4b;")||s.canPlayType("audio/m4b;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(s.canPlayType("audio/x-mp4;")||s.canPlayType("audio/mp4;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!s.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(s.canPlayType("audio/x-flac;")||s.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||t;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var s=function(c){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,i._releaseHtml5Audio(u)}catch{i.noAudio=!0;break}for(var m=0;m<i._howls.length;m++)if(!i._howls[m]._webAudio)for(var v=i._howls[m]._getSoundIds(),f=0;f<v.length;f++){var w=i._howls[m]._soundById(v[f]);w&&w._node&&!w._node._unlocked&&(w._node._unlocked=!0,w._node.load())}i._autoResume();var C=i.ctx.createBufferSource();C.buffer=i._scratchBuffer,C.connect(i.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),C.onended=function(){C.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",s,!0),document.removeEventListener("touchend",s,!0),document.removeEventListener("click",s,!0),document.removeEventListener("keydown",s,!0);for(var N=0;N<i._howls.length;N++)i._howls[N]._emit("unlock")}};return document.addEventListener("touchstart",s,!0),document.addEventListener("touchend",s,!0),document.addEventListener("click",s,!0),document.addEventListener("keydown",s,!0),i}},_obtainHtml5Audio:function(){var i=this||t;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var s=new Audio().play();return s&&typeof Promise<"u"&&(s instanceof Promise||typeof s.then=="function")&&s.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var s=this||t;return i._unlocked&&s._html5AudioPool.push(i),s},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!t.usingWebAudio)){for(var s=0;s<i._howls.length;s++)if(i._howls[s]._webAudio){for(var c=0;c<i._howls[s]._sounds.length;c++)if(!i._howls[s]._sounds[c]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var u=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(u,u)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!t.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var s=0;s<i._howls.length;s++)i._howls[s]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var t=new a,r=function(i){var s=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}s.init(i)};r.prototype={init:function(i){var s=this;return t.ctx||g(),s._autoplay=i.autoplay||!1,s._format=typeof i.format!="string"?i.format:[i.format],s._html5=i.html5||!1,s._muted=i.mute||!1,s._loop=i.loop||!1,s._pool=i.pool||5,s._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,s._rate=i.rate||1,s._sprite=i.sprite||{},s._src=typeof i.src!="string"?i.src:[i.src],s._volume=i.volume!==void 0?i.volume:1,s._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},s._duration=0,s._state="unloaded",s._sounds=[],s._endTimers={},s._queue=[],s._playLock=!1,s._onend=i.onend?[{fn:i.onend}]:[],s._onfade=i.onfade?[{fn:i.onfade}]:[],s._onload=i.onload?[{fn:i.onload}]:[],s._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],s._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],s._onpause=i.onpause?[{fn:i.onpause}]:[],s._onplay=i.onplay?[{fn:i.onplay}]:[],s._onstop=i.onstop?[{fn:i.onstop}]:[],s._onmute=i.onmute?[{fn:i.onmute}]:[],s._onvolume=i.onvolume?[{fn:i.onvolume}]:[],s._onrate=i.onrate?[{fn:i.onrate}]:[],s._onseek=i.onseek?[{fn:i.onseek}]:[],s._onunlock=i.onunlock?[{fn:i.onunlock}]:[],s._onresume=[],s._webAudio=t.usingWebAudio&&!s._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(s),s._autoplay&&s._queue.push({event:"play",action:function(){s.play()}}),s._preload&&s._preload!=="none"&&s.load(),s},load:function(){var i=this,s=null;if(t.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var c=0;c<i._src.length;c++){var u,m;if(i._format&&i._format[c])u=i._format[c];else{if(m=i._src[c],typeof m!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(m),u||(u=/\.([^.]+)$/.exec(m.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){s=i._src[c];break}}if(!s){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=s,i._state="loading",window.location.protocol==="https:"&&s.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new e(i),i._webAudio&&o(i),i},play:function(i,s){var c=this,u=null;if(typeof i=="number")u=i,i=null;else{if(typeof i=="string"&&c._state==="loaded"&&!c._sprite[i])return null;if(typeof i>"u"&&(i="__default",!c._playLock)){for(var m=0,v=0;v<c._sounds.length;v++)c._sounds[v]._paused&&!c._sounds[v]._ended&&(m++,u=c._sounds[v]._id);m===1?i=null:u=null}}var f=u?c._soundById(u):c._inactiveSound();if(!f)return null;if(u&&!i&&(i=f._sprite||"__default"),c._state!=="loaded"){f._sprite=i,f._ended=!1;var w=f._id;return c._queue.push({event:"play",action:function(){c.play(w)}}),w}if(u&&!f._paused)return s||c._loadQueue("play"),f._id;c._webAudio&&t._autoResume();var C=Math.max(0,f._seek>0?f._seek:c._sprite[i][0]/1e3),N=Math.max(0,(c._sprite[i][0]+c._sprite[i][1])/1e3-C),ee=N*1e3/Math.abs(f._rate),ye=c._sprite[i][0]/1e3,De=(c._sprite[i][0]+c._sprite[i][1])/1e3;f._sprite=i,f._ended=!1;var Ne=function(){f._paused=!1,f._seek=C,f._start=ye,f._stop=De,f._loop=!!(f._loop||c._sprite[i][2])};if(C>=De){c._ended(f);return}var V=f._node;if(c._webAudio){var et=function(){c._playLock=!1,Ne(),c._refreshBuffer(f);var be=f._muted||c._muted?0:f._volume;V.gain.setValueAtTime(be,t.ctx.currentTime),f._playStart=t.ctx.currentTime,typeof V.bufferSource.start>"u"?f._loop?V.bufferSource.noteGrainOn(0,C,86400):V.bufferSource.noteGrainOn(0,C,N):f._loop?V.bufferSource.start(0,C,86400):V.bufferSource.start(0,C,N),ee!==1/0&&(c._endTimers[f._id]=setTimeout(c._ended.bind(c,f),ee)),s||setTimeout(function(){c._emit("play",f._id),c._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?et():(c._playLock=!0,c.once("resume",et),c._clearTimer(f._id))}else{var tt=function(){V.currentTime=C,V.muted=f._muted||c._muted||t._muted||V.muted,V.volume=f._volume*t.volume(),V.playbackRate=f._rate;try{var be=V.play();if(be&&typeof Promise<"u"&&(be instanceof Promise||typeof be.then=="function")?(c._playLock=!0,Ne(),be.then(function(){c._playLock=!1,V._unlocked=!0,s?c._loadQueue():c._emit("play",f._id)}).catch(function(){c._playLock=!1,c._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),f._ended=!0,f._paused=!0})):s||(c._playLock=!1,Ne(),c._emit("play",f._id)),V.playbackRate=f._rate,V.paused){c._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||f._loop?c._endTimers[f._id]=setTimeout(c._ended.bind(c,f),ee):(c._endTimers[f._id]=function(){c._ended(f),V.removeEventListener("ended",c._endTimers[f._id],!1)},V.addEventListener("ended",c._endTimers[f._id],!1))}catch(nt){c._emit("playerror",f._id,nt)}};V.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(V.src=c._src,V.load());var Pt=window&&window.ejecta||!V.readyState&&t._navigator.isCocoonJS;if(V.readyState>=3||Pt)tt();else{c._playLock=!0,c._state="loading";var it=function(){c._state="loaded",tt(),V.removeEventListener(t._canPlayEvent,it,!1)};V.addEventListener(t._canPlayEvent,it,!1),c._clearTimer(f._id)}}return f._id},pause:function(i){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"pause",action:function(){s.pause(i)}}),s;for(var c=s._getSoundIds(i),u=0;u<c.length;u++){s._clearTimer(c[u]);var m=s._soundById(c[u]);if(m&&!m._paused&&(m._seek=s.seek(c[u]),m._rateSeek=0,m._paused=!0,s._stopFade(c[u]),m._node))if(s._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),s._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||s._emit("pause",m?m._id:null)}return s},stop:function(i,s){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(i)}}),c;for(var u=c._getSoundIds(i),m=0;m<u.length;m++){c._clearTimer(u[m]);var v=c._soundById(u[m]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,c._stopFade(u[m]),v._node&&(c._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),c._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&c._clearSound(v._node))),s||c._emit("stop",v._id))}return c},mute:function(i,s){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(i,s)}}),c;if(typeof s>"u")if(typeof i=="boolean")c._muted=i;else return c._muted;for(var u=c._getSoundIds(s),m=0;m<u.length;m++){var v=c._soundById(u[m]);v&&(v._muted=i,v._interval&&c._stopFade(v._id),c._webAudio&&v._node?v._node.gain.setValueAtTime(i?0:v._volume,t.ctx.currentTime):v._node&&(v._node.muted=t._muted?!0:i),c._emit("mute",v._id))}return c},volume:function(){var i=this,s=arguments,c,u;if(s.length===0)return i._volume;if(s.length===1||s.length===2&&typeof s[1]>"u"){var m=i._getSoundIds(),v=m.indexOf(s[0]);v>=0?u=parseInt(s[0],10):c=parseFloat(s[0])}else s.length>=2&&(c=parseFloat(s[0]),u=parseInt(s[1],10));var f;if(typeof c<"u"&&c>=0&&c<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,s)}}),i;typeof u>"u"&&(i._volume=c),u=i._getSoundIds(u);for(var w=0;w<u.length;w++)f=i._soundById(u[w]),f&&(f._volume=c,s[2]||i._stopFade(u[w]),i._webAudio&&f._node&&!f._muted?f._node.gain.setValueAtTime(c,t.ctx.currentTime):f._node&&!f._muted&&(f._node.volume=c*t.volume()),i._emit("volume",f._id))}else return f=u?i._soundById(u):i._sounds[0],f?f._volume:0;return i},fade:function(i,s,c,u){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(i,s,c,u)}}),m;i=Math.min(Math.max(0,parseFloat(i)),1),s=Math.min(Math.max(0,parseFloat(s)),1),c=parseFloat(c),m.volume(i,u);for(var v=m._getSoundIds(u),f=0;f<v.length;f++){var w=m._soundById(v[f]);if(w){if(u||m._stopFade(v[f]),m._webAudio&&!w._muted){var C=t.ctx.currentTime,N=C+c/1e3;w._volume=i,w._node.gain.setValueAtTime(i,C),w._node.gain.linearRampToValueAtTime(s,N)}m._startFadeInterval(w,i,s,c,v[f],typeof u>"u")}}return m},_startFadeInterval:function(i,s,c,u,m,v){var f=this,w=s,C=c-s,N=Math.abs(C/.01),ee=Math.max(4,N>0?u/N:u),ye=Date.now();i._fadeTo=c,i._interval=setInterval(function(){var De=(Date.now()-ye)/u;ye=Date.now(),w+=C*De,w=Math.round(w*100)/100,C<0?w=Math.max(c,w):w=Math.min(c,w),f._webAudio?i._volume=w:f.volume(w,i._id,!0),v&&(f._volume=w),(c<s&&w<=c||c>s&&w>=c)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,f.volume(c,i._id),f._emit("fade",i._id))},ee)},_stopFade:function(i){var s=this,c=s._soundById(i);return c&&c._interval&&(s._webAudio&&c._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(c._interval),c._interval=null,s.volume(c._fadeTo,i),c._fadeTo=null,s._emit("fade",i)),s},loop:function(){var i=this,s=arguments,c,u,m;if(s.length===0)return i._loop;if(s.length===1)if(typeof s[0]=="boolean")c=s[0],i._loop=c;else return m=i._soundById(parseInt(s[0],10)),m?m._loop:!1;else s.length===2&&(c=s[0],u=parseInt(s[1],10));for(var v=i._getSoundIds(u),f=0;f<v.length;f++)m=i._soundById(v[f]),m&&(m._loop=c,i._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=c,c&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,i.playing(v[f])&&(i.pause(v[f],!0),i.play(v[f],!0)))));return i},rate:function(){var i=this,s=arguments,c,u;if(s.length===0)u=i._sounds[0]._id;else if(s.length===1){var m=i._getSoundIds(),v=m.indexOf(s[0]);v>=0?u=parseInt(s[0],10):c=parseFloat(s[0])}else s.length===2&&(c=parseFloat(s[0]),u=parseInt(s[1],10));var f;if(typeof c=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,s)}}),i;typeof u>"u"&&(i._rate=c),u=i._getSoundIds(u);for(var w=0;w<u.length;w++)if(f=i._soundById(u[w]),f){i.playing(u[w])&&(f._rateSeek=i.seek(u[w]),f._playStart=i._webAudio?t.ctx.currentTime:f._playStart),f._rate=c,i._webAudio&&f._node&&f._node.bufferSource?f._node.bufferSource.playbackRate.setValueAtTime(c,t.ctx.currentTime):f._node&&(f._node.playbackRate=c);var C=i.seek(u[w]),N=(i._sprite[f._sprite][0]+i._sprite[f._sprite][1])/1e3-C,ee=N*1e3/Math.abs(f._rate);(i._endTimers[u[w]]||!f._paused)&&(i._clearTimer(u[w]),i._endTimers[u[w]]=setTimeout(i._ended.bind(i,f),ee)),i._emit("rate",f._id)}}else return f=i._soundById(u),f?f._rate:i._rate;return i},seek:function(){var i=this,s=arguments,c,u;if(s.length===0)i._sounds.length&&(u=i._sounds[0]._id);else if(s.length===1){var m=i._getSoundIds(),v=m.indexOf(s[0]);v>=0?u=parseInt(s[0],10):i._sounds.length&&(u=i._sounds[0]._id,c=parseFloat(s[0]))}else s.length===2&&(c=parseFloat(s[0]),u=parseInt(s[1],10));if(typeof u>"u")return 0;if(typeof c=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,s)}}),i;var f=i._soundById(u);if(f)if(typeof c=="number"&&c>=0){var w=i.playing(u);w&&i.pause(u,!0),f._seek=c,f._ended=!1,i._clearTimer(u),!i._webAudio&&f._node&&!isNaN(f._node.duration)&&(f._node.currentTime=c);var C=function(){w&&i.play(u,!0),i._emit("seek",u)};if(w&&!i._webAudio){var N=function(){i._playLock?setTimeout(N,0):C()};setTimeout(N,0)}else C()}else if(i._webAudio){var ee=i.playing(u)?t.ctx.currentTime-f._playStart:0,ye=f._rateSeek?f._rateSeek-f._seek:0;return f._seek+(ye+ee*Math.abs(f._rate))}else return f._node.currentTime;return i},playing:function(i){var s=this;if(typeof i=="number"){var c=s._soundById(i);return c?!c._paused:!1}for(var u=0;u<s._sounds.length;u++)if(!s._sounds[u]._paused)return!0;return!1},duration:function(i){var s=this,c=s._duration,u=s._soundById(i);return u&&(c=s._sprite[u._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var i=this,s=i._sounds,c=0;c<s.length;c++)s[c]._paused||i.stop(s[c]._id),i._webAudio||(i._clearSound(s[c]._node),s[c]._node.removeEventListener("error",s[c]._errorFn,!1),s[c]._node.removeEventListener(t._canPlayEvent,s[c]._loadFn,!1),s[c]._node.removeEventListener("ended",s[c]._endFn,!1),t._releaseHtml5Audio(s[c]._node)),delete s[c]._node,i._clearTimer(s[c]._id);var u=t._howls.indexOf(i);u>=0&&t._howls.splice(u,1);var m=!0;for(c=0;c<t._howls.length;c++)if(t._howls[c]._src===i._src||i._src.indexOf(t._howls[c]._src)>=0){m=!1;break}return n&&m&&delete n[i._src],t.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,s,c,u){var m=this,v=m["_on"+i];return typeof s=="function"&&v.push(u?{id:c,fn:s,once:u}:{id:c,fn:s}),m},off:function(i,s,c){var u=this,m=u["_on"+i],v=0;if(typeof s=="number"&&(c=s,s=null),s||c)for(v=0;v<m.length;v++){var f=c===m[v].id;if(s===m[v].fn&&f||!s&&f){m.splice(v,1);break}}else if(i)u["_on"+i]=[];else{var w=Object.keys(u);for(v=0;v<w.length;v++)w[v].indexOf("_on")===0&&Array.isArray(u[w[v]])&&(u[w[v]]=[])}return u},once:function(i,s,c){var u=this;return u.on(i,s,c,1),u},_emit:function(i,s,c){for(var u=this,m=u["_on"+i],v=m.length-1;v>=0;v--)(!m[v].id||m[v].id===s||i==="load")&&(setTimeout((function(f){f.call(this,s,c)}).bind(u,m[v].fn),0),m[v].once&&u.off(i,m[v].fn,m[v].id));return u._loadQueue(i),u},_loadQueue:function(i){var s=this;if(s._queue.length>0){var c=s._queue[0];c.event===i&&(s._queue.shift(),s._loadQueue()),i||c.action()}return s},_ended:function(i){var s=this,c=i._sprite;if(!s._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(s._ended.bind(s,i),100),s;var u=!!(i._loop||s._sprite[c][2]);if(s._emit("end",i._id),!s._webAudio&&u&&s.stop(i._id,!0).play(i._id),s._webAudio&&u){s._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=t.ctx.currentTime;var m=(i._stop-i._start)*1e3/Math.abs(i._rate);s._endTimers[i._id]=setTimeout(s._ended.bind(s,i),m)}return s._webAudio&&!u&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,s._clearTimer(i._id),s._cleanBuffer(i._node),t._autoSuspend()),!s._webAudio&&!u&&s.stop(i._id,!0),s},_clearTimer:function(i){var s=this;if(s._endTimers[i]){if(typeof s._endTimers[i]!="function")clearTimeout(s._endTimers[i]);else{var c=s._soundById(i);c&&c._node&&c._node.removeEventListener("ended",s._endTimers[i],!1)}delete s._endTimers[i]}return s},_soundById:function(i){for(var s=this,c=0;c<s._sounds.length;c++)if(i===s._sounds[c]._id)return s._sounds[c];return null},_inactiveSound:function(){var i=this;i._drain();for(var s=0;s<i._sounds.length;s++)if(i._sounds[s]._ended)return i._sounds[s].reset();return new e(i)},_drain:function(){var i=this,s=i._pool,c=0,u=0;if(!(i._sounds.length<s)){for(u=0;u<i._sounds.length;u++)i._sounds[u]._ended&&c++;for(u=i._sounds.length-1;u>=0;u--){if(c<=s)return;i._sounds[u]._ended&&(i._webAudio&&i._sounds[u]._node&&i._sounds[u]._node.disconnect(0),i._sounds.splice(u,1),c--)}}},_getSoundIds:function(i){var s=this;if(typeof i>"u"){for(var c=[],u=0;u<s._sounds.length;u++)c.push(s._sounds[u]._id);return c}else return[i]},_refreshBuffer:function(i){var s=this;return i._node.bufferSource=t.ctx.createBufferSource(),i._node.bufferSource.buffer=n[s._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,t.ctx.currentTime),s},_cleanBuffer:function(i){var s=this,c=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!i.bufferSource)return s;if(t._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),c))try{i.bufferSource.buffer=t._scratchBuffer}catch{}return i.bufferSource=null,s},_clearSound:function(i){var s=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);s||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var e=function(i){this._parent=i,this.init()};e.prototype={init:function(){var i=this,s=i._parent;return i._muted=s._muted,i._loop=s._loop,i._volume=s._volume,i._rate=s._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,s._sounds.push(i),i.create(),i},create:function(){var i=this,s=i._parent,c=t._muted||i._muted||i._parent._muted?0:i._volume;return s._webAudio?(i._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),i._node.gain.setValueAtTime(c,t.ctx.currentTime),i._node.paused=!0,i._node.connect(t.masterGain)):t.noAudio||(i._node=t._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(t._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=s._src,i._node.preload=s._preload===!0?"auto":s._preload,i._node.volume=c*t.volume(),i._node.load()),i},reset:function(){var i=this,s=i._parent;return i._muted=s._muted,i._loop=s._loop,i._volume=s._volume,i._rate=s._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,s=i._parent;s._duration=Math.ceil(i._node.duration*10)/10,Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue()),i._node.removeEventListener(t._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,s=i._parent;s._duration===1/0&&(s._duration=Math.ceil(i._node.duration*10)/10,s._sprite.__default[1]===1/0&&(s._sprite.__default[1]=s._duration*1e3),s._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var n={},o=function(i){var s=i._src;if(n[s]){i._duration=n[s].duration,p(i);return}if(/^data:[^;]+;base64,/.test(s)){for(var c=atob(s.split(",")[1]),u=new Uint8Array(c.length),m=0;m<c.length;++m)u[m]=c.charCodeAt(m);d(u.buffer,i)}else{var v=new XMLHttpRequest;v.open(i._xhr.method,s,!0),v.withCredentials=i._xhr.withCredentials,v.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(f){v.setRequestHeader(f,i._xhr.headers[f])}),v.onload=function(){var f=(v.status+"")[0];if(f!=="0"&&f!=="2"&&f!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}d(v.response,i)},v.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete n[s],i.load())},l(v)}},l=function(i){try{i.send()}catch{i.onerror()}},d=function(i,s){var c=function(){s._emit("loaderror",null,"Decoding audio data failed.")},u=function(m){m&&s._sounds.length>0?(n[s._src]=m,p(s,m)):c()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(i).then(u).catch(c):t.ctx.decodeAudioData(i,u,c)},p=function(i,s){s&&!i._duration&&(i._duration=s.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},g=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),s=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=s?parseInt(s[1],10):null;if(i&&c&&c<9){var u=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!u&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:t,Howl:r}}),typeof Dt<"u"&&(Dt.Howler=t,Dt.Howl=r),typeof global<"u"?(global.HowlerGlobal=a,global.Howler=t,global.Howl=r,global.Sound=e):typeof window<"u"&&(window.HowlerGlobal=a,window.Howler=t,window.Howl=r,window.Sound=e)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var e=r._howls.length-1;e>=0;e--)r._howls[e].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,e){var n=this;if(!n.ctx||!n.ctx.listener)return n;if(r=typeof r!="number"?n._pos[1]:r,e=typeof e!="number"?n._pos[2]:e,typeof t=="number")n._pos=[t,r,e],typeof n.ctx.listener.positionX<"u"?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]);else return n._pos;return n},HowlerGlobal.prototype.orientation=function(t,r,e,n,o,l){var d=this;if(!d.ctx||!d.ctx.listener)return d;var p=d._orientation;if(r=typeof r!="number"?p[1]:r,e=typeof e!="number"?p[2]:e,n=typeof n!="number"?p[3]:n,o=typeof o!="number"?p[4]:o,l=typeof l!="number"?p[5]:l,typeof t=="number")d._orientation=[t,r,e,n,o,l],typeof d.ctx.listener.forwardX<"u"?(d.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(e,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(t,r,e,n,o,l);else return p;return d},Howl.prototype.init=function(t){return function(r){var e=this;return e._orientation=r.orientation||[1,0,0],e._stereo=r.stereo||null,e._pos=r.pos||null,e._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},e._onstereo=r.onstereo?[{fn:r.onstereo}]:[],e._onpos=r.onpos?[{fn:r.onpos}]:[],e._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var e=this;if(!e._webAudio)return e;if(e._state!=="loaded")return e._queue.push({event:"stereo",action:function(){e.stereo(t,r)}}),e;var n=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")e._stereo=t,e._pos=[t,0,0];else return e._stereo;for(var o=e._getSoundIds(r),l=0;l<o.length;l++){var d=e._soundById(o[l]);if(d)if(typeof t=="number")d._stereo=t,d._pos=[t,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&a(d,n),n==="spatial"?typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(t,0,0):d._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),e._emit("stereo",d._id);else return d._stereo}return e},Howl.prototype.pos=function(t,r,e,n){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(t,r,e,n)}}),o;if(r=typeof r!="number"?0:r,e=typeof e!="number"?-.5:e,typeof n>"u")if(typeof t=="number")o._pos=[t,r,e];else return o._pos;for(var l=o._getSoundIds(n),d=0;d<l.length;d++){var p=o._soundById(l[d]);if(p)if(typeof t=="number")p._pos=[t,r,e],p._node&&((!p._panner||p._panner.pan)&&a(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(e,Howler.ctx.currentTime)):p._panner.setPosition(t,r,e)),o._emit("pos",p._id);else return p._pos}return o},Howl.prototype.orientation=function(t,r,e,n){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,e,n)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,e=typeof e!="number"?o._orientation[2]:e,typeof n>"u")if(typeof t=="number")o._orientation=[t,r,e];else return o._orientation;for(var l=o._getSoundIds(n),d=0;d<l.length;d++){var p=o._soundById(l[d]);if(p)if(typeof t=="number")p._orientation=[t,r,e],p._node&&(p._panner||(p._pos||(p._pos=o._pos||[0,0,-.5]),a(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(e,Howler.ctx.currentTime)):p._panner.setOrientation(t,r,e)),o._emit("orientation",p._id);else return p._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,e,n,o;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")e=r[0],typeof n>"u"&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),t._pannerAttr={coneInnerAngle:typeof e.pannerAttr.coneInnerAngle<"u"?e.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof e.pannerAttr.coneOuterAngle<"u"?e.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof e.pannerAttr.coneOuterGain<"u"?e.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof e.pannerAttr.distanceModel<"u"?e.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof e.pannerAttr.maxDistance<"u"?e.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof e.pannerAttr.refDistance<"u"?e.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof e.pannerAttr.rolloffFactor<"u"?e.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof e.pannerAttr.panningModel<"u"?e.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(r[0],10)),o?o._pannerAttr:t._pannerAttr;else r.length===2&&(e=r[0],n=parseInt(r[1],10));for(var l=t._getSoundIds(n),d=0;d<l.length;d++)if(o=t._soundById(l[d]),o){var p=o._pannerAttr;p={coneInnerAngle:typeof e.coneInnerAngle<"u"?e.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof e.coneOuterAngle<"u"?e.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof e.coneOuterGain<"u"?e.coneOuterGain:p.coneOuterGain,distanceModel:typeof e.distanceModel<"u"?e.distanceModel:p.distanceModel,maxDistance:typeof e.maxDistance<"u"?e.maxDistance:p.maxDistance,refDistance:typeof e.refDistance<"u"?e.refDistance:p.refDistance,rolloffFactor:typeof e.rolloffFactor<"u"?e.rolloffFactor:p.rolloffFactor,panningModel:typeof e.panningModel<"u"?e.panningModel:p.panningModel};var g=o._panner;g||(o._pos||(o._pos=t._pos||[0,0,-.5]),a(o,"spatial"),g=o._panner),g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel}return t},Sound.prototype.init=function(t){return function(){var r=this,e=r._parent;r._orientation=e._orientation,r._stereo=e._stereo,r._pos=e._pos,r._pannerAttr=e._pannerAttr,t.call(this),r._stereo?e.stereo(r._stereo):r._pos&&e.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,e=r._parent;return r._orientation=e._orientation,r._stereo=e._stereo,r._pos=e._pos,r._pannerAttr=e._pannerAttr,r._stereo?e.stereo(r._stereo):r._pos?e.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,e._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var a=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()});function yt(a,t=0){return Qn(a)?Number(a):t}function Qn(a){return!isNaN(parseFloat(a))&&!isNaN(Number(a))}function nn(a){return Array.isArray(a)?a:[a]}function Q(a){return a instanceof Pe?a.nativeElement:a}var Xt;try{Xt=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Xt=!1}var ei=(()=>{let t=class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Vi(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Xt)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(n){return new(n||t)(H(Pi))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var Ye;function Jn(){if(Ye==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ye=!0}))}finally{Ye=Ye||!1}return Ye}function bt(a){return Jn()?a:!!a.capture}var Kt;function er(){if(Kt==null){let a=typeof document<"u"?document.head:null;Kt=!!(a&&(a.createShadowRoot||a.attachShadow))}return Kt}function ti(a){if(er()){let t=a.getRootNode?a.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ke(a){return a.composedPath?a.composedPath()[0]:a.target}var ir=new ue("cdk-dir-doc",{providedIn:"root",factory:nr});function nr(){return Ci(ve)}var rr=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function sr(a){let t=a?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?rr.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var ii=(()=>{let t=class t{constructor(e){if(this.value="ltr",this.change=new ne,e){let n=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=sr(n||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(n){return new(n||t)(H(ir,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var lr=20,rn=(()=>{let t=class t{constructor(e,n,o){this._ngZone=e,this._platform=n,this._scrolled=new B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=lr){return this._platform.isBrowser?new Be(n=>{this._globalSubscription||this._addGlobalListener();let o=e>0?this._scrolled.pipe(Mt(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ie()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let o=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Ti(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,e)&&n.push(l)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let o=Q(n),l=e.getElementRef().nativeElement;do if(o==l)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Ii(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(H(ke),H(ei),H(ve,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var cr=20,sn=(()=>{let t=class t{constructor(e,n,o){this._platform=e,this._change=new B,this._changeListener=l=>{this._change.next(l)},this._document=o,n.runOutsideAngular(()=>{if(e.isBrowser){let l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect(),d=-l.top||e.body.scrollTop||n.scrollY||o.scrollTop||0,p=-l.left||e.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:d,left:p}}change(e=cr){return e>0?this._change.pipe(Mt(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(n){return new(n||t)(H(ei),H(ke),H(ve,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();function on(a){return a.buttons===0||a.detail===0}function an(a){let t=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function ci(a,t,r){for(let e in t)if(t.hasOwnProperty(e)){let n=t[e];n?a.setProperty(e,n,r?.has(e)?"important":""):a.removeProperty(e)}return a}function Le(a,t){let r=t?"":"none";ci(a.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function ln(a,t,r){ci(a.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},r)}function kt(a,t){return t&&t!="none"?a+" "+t:a}function cn(a){let t=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*t}function ur(a){let t=getComputedStyle(a),r=ni(t,"transition-property"),e=r.find(d=>d==="transform"||d==="all");if(!e)return 0;let n=r.indexOf(e),o=ni(t,"transition-duration"),l=ni(t,"transition-delay");return cn(o[n])+cn(l[n])}function ni(a,t){return a.getPropertyValue(t).split(",").map(e=>e.trim())}function di(a){let t=a.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function si(a,t,r){let{top:e,bottom:n,left:o,right:l}=a;return r>=e&&r<=n&&t>=o&&t<=l}function Qe(a,t,r){a.top+=t,a.bottom=a.top+a.height,a.left+=r,a.right=a.left+a.width}function dn(a,t,r,e){let{top:n,right:o,bottom:l,left:d,width:p,height:g}=a,i=p*t,s=g*t;return e>n-s&&e<l+s&&r>d-i&&r<o+i}var It=class{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:di(r)})})}handleScroll(t){let r=Ke(t),e=this.positions.get(r);if(!e)return null;let n=e.scrollPosition,o,l;if(r===this._document){let g=this.getViewportScrollPosition();o=g.top,l=g.left}else o=r.scrollTop,l=r.scrollLeft;let d=n.top-o,p=n.left-l;return this.positions.forEach((g,i)=>{g.clientRect&&r!==i&&r.contains(i)&&Qe(g.clientRect,d,p)}),n.top=o,n.left=l,{top:d,left:p}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function un(a){let t=a.cloneNode(!0),r=t.querySelectorAll("[id]"),e=a.nodeName.toLowerCase();t.removeAttribute("id");for(let n=0;n<r.length;n++)r[n].removeAttribute("id");return e==="canvas"?pn(a,t):(e==="input"||e==="select"||e==="textarea")&&fn(a,t),hn("canvas",a,t,pn),hn("input, textarea, select",a,t,fn),t}function hn(a,t,r,e){let n=t.querySelectorAll(a);if(n.length){let o=r.querySelectorAll(a);for(let l=0;l<n.length;l++)e(n[l],o[l])}}var hr=0;function fn(a,t){t.type!=="file"&&(t.value=a.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${hr++}`)}function pn(a,t){let r=t.getContext("2d");if(r)try{r.drawImage(a,0,0)}catch{}}var _n=bt({passive:!0}),wt=bt({passive:!1}),fr=800,ri=new Set(["position"]),oi=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Le(r,t)))}constructor(t,r,e,n,o,l){this._config=r,this._document=e,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new B,this._pointerMoveSubscription=Se.EMPTY,this._pointerUpSubscription=Se.EMPTY,this._scrollSubscription=Se.EMPTY,this._resizeSubscription=Se.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new B,this.started=new B,this.released=new B,this.ended=new B,this.entered=new B,this.exited=new B,this.dropped=new B,this.moved=this._moveEvents,this._pointerDown=d=>{if(this.beforeStarted.next(),this._handles.length){let p=this._getTargetHandle(d);p&&!this._disabledHandles.has(p)&&!this.disabled&&this._initializeDragSequence(p,d)}else this.disabled||this._initializeDragSequence(this._rootElement,d)},this._pointerMove=d=>{let p=this._getPointerPositionOnPage(d);if(!this._hasStartedDragging){let i=Math.abs(p.x-this._pickupPositionOnPage.x),s=Math.abs(p.y-this._pickupPositionOnPage.y);if(i+s>=this._config.dragStartThreshold){let u=Date.now()>=this._dragStartTime+this._getDragStartDelay(d),m=this._dropContainer;if(!u){this._endDragSequence(d);return}(!m||!m.isDragging()&&!m.isReceiving())&&(d.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(d)))}return}d.preventDefault();let g=this._getConstrainedPointerPosition(p);if(this._hasMoved=!0,this._lastKnownPointerPosition=p,this._updatePointerDirectionDelta(g),this._dropContainer)this._updateActiveDropContainer(g,p);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=g.x-i.x+this._passiveTransform.x,s.y=g.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:g,event:d,distance:this._getDragDistance(g),delta:this._pointerDirectionDelta})})},this._pointerUp=d=>{this._endDragSequence(d)},this._nativeDragStart=d=>{if(this._handles.length){let p=this._getTargetHandle(d);p&&!this._disabledHandles.has(p)&&!this.disabled&&d.preventDefault()}else this.disabled||d.preventDefault()},this.withRootElement(t).withParent(r.parentDragRef||null),this._parentPositions=new It(e),l.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(e=>Q(e)),this._handles.forEach(e=>Le(e,this.disabled)),this._toggleNativeDragInteractions();let r=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&r.add(e)}),this._disabledHandles=r,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let r=Q(t);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,wt),r.addEventListener("touchstart",this._pointerDown,_n),r.addEventListener("dragstart",this._nativeDragStart,wt)}),this._initialTransform=void 0,this._rootElement=r),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Q(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Le(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Le(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let r=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Xe(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let r=this._dropContainer;if(r){let e=this._rootElement,n=e.parentNode,o=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),d=this._getShadowRoot();n.insertBefore(l,e),this._initialTransform=e.style.transform||"",this._preview=this._createPreviewElement(),ln(e,!1,ri),this._document.body.appendChild(n.replaceChild(o,e)),this._getPreviewInsertionPoint(n,d).appendChild(this._preview),this.started.next({source:this,event:t}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(t,r){this._parentDragRef&&r.stopPropagation();let e=this.isDragging(),n=Xe(r),o=!n&&r.button!==0,l=this._rootElement,d=Ke(r),p=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+fr>Date.now(),g=n?an(r):on(r);if(d&&d.draggable&&r.type==="mousedown"&&r.preventDefault(),e||o||p||g)return;if(this._handles.length){let c=l.style;this._rootElementTapHighlight=c.webkitTapHighlightColor||"",c.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(c=>this._updateOnScroll(c)),this._boundaryElement&&(this._boundaryRect=di(this._boundaryElement));let i=this._previewTemplate;this._pickupPositionInElement=i&&i.template&&!i.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,r);let s=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:s.x,y:s.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(t){ln(this._rootElement,!0,ri),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let r=this._dropContainer,e=r.getItemIndex(this),n=this._getPointerPositionOnPage(t),o=this._getDragDistance(n),l=r._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:o,dropPoint:n,event:t}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:o,dropPoint:n,event:t}),r.drop(this,e,this._initialIndex,this._initialContainer,l,o,n,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:r},{x:e,y:n}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,r);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,r)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,r,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,n),this._dropContainer._sortItem(this,t,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,r):this._applyPreviewTransform(t-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_createPreviewElement(){let t=this._previewTemplate,r=this.previewClass,e=t?t.template:null,n;if(e&&t){let o=t.matchSize?this._initialDomRect:null,l=t.viewContainer.createEmbeddedView(e,t.context);l.detectChanges(),n=gn(l,this._document),this._previewRef=l,t.matchSize?vn(n,o):n.style.transform=xt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=un(this._rootElement),vn(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return ci(n.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ri),Le(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(o=>n.classList.add(o)):n.classList.add(r)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let r=ur(this._preview);return r===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let n=l=>{(!l||Ke(l)===this._preview&&l.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",n),e(),clearTimeout(o))},o=setTimeout(n,r*1.5);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,r=t?t.template:null,e;return r?(this._placeholderRef=t.viewContainer.createEmbeddedView(r,t.context),this._placeholderRef.detectChanges(),e=gn(this._placeholderRef,this._document)):e=un(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(t,r,e){let n=r===this._rootElement?null:r,o=n?n.getBoundingClientRect():t,l=Xe(e)?e.targetTouches[0]:e,d=this._getViewportScrollPosition(),p=l.pageX-o.left-d.left,g=l.pageY-o.top-d.top;return{x:o.left-t.left+p,y:o.top-t.top+g}}_getPointerPositionOnPage(t){let r=this._getViewportScrollPosition(),e=Xe(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,n=e.pageX-r.left,o=e.pageY-r.top;if(this._ownerSVGElement){let l=this._ownerSVGElement.getScreenCTM();if(l){let d=this._ownerSVGElement.createSVGPoint();return d.x=n,d.y=o,d.matrixTransform(l.inverse())}}return{x:n,y:o}}_getConstrainedPointerPosition(t){let r=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:n}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||r==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||r==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:l}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,d=this._boundaryRect,{width:p,height:g}=this._getPreviewRect(),i=d.top+l,s=d.bottom-(g-l),c=d.left+o,u=d.right-(p-o);e=mn(e,c,u),n=mn(n,i,s)}return{x:e,y:n}}_updatePointerDirectionDelta(t){let{x:r,y:e}=t,n=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,l=Math.abs(r-o.x),d=Math.abs(e-o.y);return l>this._config.pointerDirectionChangeThreshold&&(n.x=r>o.x?1:-1,o.x=r),d>this._config.pointerDirectionChangeThreshold&&(n.y=e>o.y?1:-1,o.y=e),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Le(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,wt),t.removeEventListener("touchstart",this._pointerDown,_n),t.removeEventListener("dragstart",this._nativeDragStart,wt)}_applyRootElementTransform(t,r){let e=xt(t,r),n=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=n.transform&&n.transform!="none"?n.transform:""),n.transform=kt(e,this._initialTransform)}_applyPreviewTransform(t,r){let e=this._previewTemplate?.template?void 0:this._initialTransform,n=xt(t,r);this._preview.style.transform=kt(n,e)}_getDragDistance(t){let r=this._pickupPositionOnPage;return r?{x:t.x-r.x,y:t.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:r}=this._passiveTransform;if(t===0&&r===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||e.width===0&&e.height===0)return;let o=n.left-e.left,l=e.right-n.right,d=n.top-e.top,p=e.bottom-n.bottom;n.width>e.width?(o>0&&(t+=o),l>0&&(t-=l)):t=0,n.height>e.height?(d>0&&(r+=d),p>0&&(r-=p)):r=0,(t!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:t})}_getDragStartDelay(t){let r=this.dragStartDelay;return typeof r=="number"?r:Xe(t)?r.touch:r?r.mouse:0}_updateOnScroll(t){let r=this._parentPositions.handleScroll(t);if(r){let e=Ke(t);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&Qe(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=ti(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,r){let e=this._previewContainer||"global";if(e==="parent")return t;if(e==="global"){let n=this._document;return r||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return Q(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(r=>t.target&&(t.target===r||r.contains(t.target)))}};function xt(a,t){return`translate3d(${Math.round(a)}px, ${Math.round(t)}px, 0)`}function mn(a,t,r){return Math.max(t,Math.min(r,a))}function Xe(a){return a.type[0]==="t"}function gn(a,t){let r=a.rootNodes;if(r.length===1&&r[0].nodeType===t.ELEMENT_NODE)return r[0];let e=t.createElement("div");return r.forEach(n=>e.appendChild(n)),e}function vn(a,t){a.style.width=`${t.width}px`,a.style.height=`${t.height}px`,a.style.transform=xt(t.left,t.top)}function ui(a,t,r){let e=Tt(t,a.length-1),n=Tt(r,a.length-1);if(e===n)return;let o=a[e],l=n<e?-1:1;for(let d=e;d!==n;d+=l)a[d]=a[d+l];a[n]=o}function xn(a,t,r,e){let n=Tt(r,a.length-1),o=Tt(e,t.length);a.length&&t.splice(o,0,a.splice(n,1)[0])}function Tt(a,t){return Math.max(0,Math.min(t,a))}var ai=class{constructor(t,r){this._element=t,this._dragDropRegistry=r,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,r,e,n){let o=this._itemPositions,l=this._getItemIndexFromPointerPosition(t,r,e,n);if(l===-1&&o.length>0)return null;let d=this.orientation==="horizontal",p=o.findIndex(f=>f.drag===t),g=o[l],i=o[p].clientRect,s=g.clientRect,c=p>l?1:-1,u=this._getItemOffsetPx(i,s,c),m=this._getSiblingOffsetPx(p,o,c),v=o.slice();return ui(o,p,l),o.forEach((f,w)=>{if(v[w]===f)return;let C=f.drag===t,N=C?u:m,ee=C?t.getPlaceholderElement():f.drag.getRootElement();f.offset+=N,d?(ee.style.transform=kt(`translate3d(${Math.round(f.offset)}px, 0, 0)`,f.initialTransform),Qe(f.clientRect,0,N)):(ee.style.transform=kt(`translate3d(0, ${Math.round(f.offset)}px, 0)`,f.initialTransform),Qe(f.clientRect,N,0))}),this._previousSwap.overlaps=si(s,r,e),this._previousSwap.drag=g.drag,this._previousSwap.delta=d?n.x:n.y,{previousIndex:p,currentIndex:l}}enter(t,r,e,n){let o=n==null||n<0?this._getItemIndexFromPointerPosition(t,r,e):n,l=this._activeDraggables,d=l.indexOf(t),p=t.getPlaceholderElement(),g=l[o];if(g===t&&(g=l[o+1]),!g&&(o==null||o===-1||o<l.length-1)&&this._shouldEnterAsFirstChild(r,e)&&(g=l[0]),d>-1&&l.splice(d,1),g&&!this._dragDropRegistry.isDragging(g)){let i=g.getRootElement();i.parentElement.insertBefore(p,i),l.splice(o,0,t)}else Q(this._element).appendChild(p),l.push(t);p.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{let r=t.getRootElement();if(r){let e=this._itemPositions.find(n=>n.drag===t)?.initialTransform;r.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===t)}updateOnScroll(t,r){this._itemPositions.forEach(({clientRect:e})=>{Qe(e,t,r)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(r=>{let e=r.getVisibleElement();return{drag:r,offset:0,initialTransform:e.style.transform||"",clientRect:di(e)}}).sort((r,e)=>t?r.clientRect.left-e.clientRect.left:r.clientRect.top-e.clientRect.top)}_getItemOffsetPx(t,r,e){let n=this.orientation==="horizontal",o=n?r.left-t.left:r.top-t.top;return e===-1&&(o+=n?r.width-t.width:r.height-t.height),o}_getSiblingOffsetPx(t,r,e){let n=this.orientation==="horizontal",o=r[t].clientRect,l=r[t+e*-1],d=o[n?"width":"height"]*e;if(l){let p=n?"left":"top",g=n?"right":"bottom";e===-1?d-=l.clientRect[p]-o[g]:d+=o[p]-l.clientRect[g]}return d}_shouldEnterAsFirstChild(t,r){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,n=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let l=e[e.length-1].clientRect;return n?t>=l.right:r>=l.bottom}else{let l=e[0].clientRect;return n?t<=l.left:r<=l.top}}_getItemIndexFromPointerPosition(t,r,e,n){let o=this.orientation==="horizontal",l=this._itemPositions.findIndex(({drag:d,clientRect:p})=>{if(d===t)return!1;if(n){let g=o?n.x:n.y;if(d===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return o?r>=Math.floor(p.left)&&r<Math.floor(p.right):e>=Math.floor(p.top)&&e<Math.floor(p.bottom)});return l===-1||!this._sortPredicate(l,t)?-1:l}},yn=.05,kn=.05,oe=function(a){return a[a.NONE=0]="NONE",a[a.UP=1]="UP",a[a.DOWN=2]="DOWN",a}(oe||{}),J=function(a){return a[a.NONE=0]="NONE",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a}(J||{}),li=class{constructor(t,r,e,n,o){this._dragDropRegistry=r,this._ngZone=n,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new B,this.entered=new B,this.exited=new B,this.dropped=new B,this.sorted=new B,this.receivingStarted=new B,this.receivingStopped=new B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Se.EMPTY,this._verticalScrollDirection=oe.NONE,this._horizontalScrollDirection=J.NONE,this._stopScrollTimers=new B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),st(0,Ve).pipe(Ce(this._stopScrollTimers)).subscribe(()=>{let l=this._scrollNode,d=this.autoScrollStep;this._verticalScrollDirection===oe.UP?l.scrollBy(0,-d):this._verticalScrollDirection===oe.DOWN&&l.scrollBy(0,d),this._horizontalScrollDirection===J.LEFT?l.scrollBy(-d,0):this._horizontalScrollDirection===J.RIGHT&&l.scrollBy(d,0)})},this.element=Q(t),this._document=e,this.withScrollableParents([this.element]),r.registerDropContainer(this),this._parentPositions=new It(e),this._sortStrategy=new ai(this.element,r),this._sortStrategy.withSortPredicate((l,d)=>this.sortPredicate(l,d,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,r,e,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(t)),this._sortStrategy.enter(t,r,e,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,r,e,n,o,l,d,p={}){this._reset(),this.dropped.next({item:t,currentIndex:r,previousIndex:e,container:this,previousContainer:n,isPointerOverContainer:o,distance:l,dropPoint:d,event:p})}withItems(t){let r=this._draggables;return this._draggables=t,t.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(r.filter(n=>n.isDragging()).every(n=>t.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){let r=Q(this.element);return this._scrollableElements=t.indexOf(r)===-1?[r,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,r,e,n){if(this.sortingDisabled||!this._domRect||!dn(this._domRect,yn,r,e))return;let o=this._sortStrategy.sort(t,r,e,n);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,r){if(this.autoScrollDisabled)return;let e,n=oe.NONE,o=J.NONE;if(this._parentPositions.positions.forEach((l,d)=>{d===this._document||!l.clientRect||e||dn(l.clientRect,yn,t,r)&&([n,o]=pr(d,l.clientRect,this._sortStrategy.direction,t,r),(n||o)&&(e=d))}),!n&&!o){let{width:l,height:d}=this._viewportRuler.getViewportSize(),p={width:l,height:d,top:0,right:l,bottom:d,left:0};n=In(p,r),o=Tn(p,t),e=window}e&&(n!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=o,this._scrollNode=e,(n||o)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=Q(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let t=Q(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;let t=Q(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(r=>r._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,r){return this._domRect!=null&&si(this._domRect,t,r)}_getSiblingContainerFromPosition(t,r,e){return this._siblings.find(n=>n._canReceive(t,r,e))}_canReceive(t,r,e){if(!this._domRect||!si(this._domRect,r,e)||!this.enterPredicate(t,this))return!1;let n=this._getShadowRoot().elementFromPoint(r,e);if(!n)return!1;let o=Q(this.element);return n===o||o.contains(n)}_startReceiving(t,r){let e=this._activeSiblings;!e.has(t)&&r.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:r}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let r=this._parentPositions.handleScroll(t);r&&this._sortStrategy.updateOnScroll(r.top,r.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=ti(Q(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,t))}};function In(a,t){let{top:r,bottom:e,height:n}=a,o=n*kn;return t>=r-o&&t<=r+o?oe.UP:t>=e-o&&t<=e+o?oe.DOWN:oe.NONE}function Tn(a,t){let{left:r,right:e,width:n}=a,o=n*kn;return t>=r-o&&t<=r+o?J.LEFT:t>=e-o&&t<=e+o?J.RIGHT:J.NONE}function pr(a,t,r,e,n){let o=In(t,n),l=Tn(t,e),d=oe.NONE,p=J.NONE;if(o){let g=a.scrollTop;o===oe.UP?g>0&&(d=oe.UP):a.scrollHeight-g>a.clientHeight&&(d=oe.DOWN)}if(l){let g=a.scrollLeft;r==="rtl"?l===J.RIGHT?g<0&&(p=J.RIGHT):a.scrollWidth+g>a.clientWidth&&(p=J.LEFT):l===J.LEFT?g>0&&(p=J.LEFT):a.scrollWidth-g>a.clientWidth&&(p=J.RIGHT)}return[d,p]}var St=bt({passive:!1,capture:!0}),_r=(()=>{let t=class t{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new B,this.pointerUp=new B,this.scroll=new B,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,St)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,St)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),this._activeDragInstances.length===1)){let o=n.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:l=>this.pointerUp.next(l),options:!0}).set("scroll",{handler:l=>this.scroll.next(l),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:St}),o||this._globalListeners.set("mousemove",{handler:l=>this.pointerMove.next(l),options:St}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((l,d)=>{this._document.addEventListener(d,l.handler,l.options)})})}}stopDragging(e){let n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){let n=[this.scroll];return e&&e!==this._document&&n.push(new Be(o=>this._ngZone.runOutsideAngular(()=>{let d=p=>{this._activeDragInstances.length&&o.next(p)};return e.addEventListener("scroll",d,!0),()=>{e.removeEventListener("scroll",d,!0)}}))),ot(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}};t.\u0275fac=function(n){return new(n||t)(H(ke),H(ve))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})(),mr={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Dn=(()=>{let t=class t{constructor(e,n,o,l){this._document=e,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=l}createDrag(e,n=mr){return new oi(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new li(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};t.\u0275fac=function(n){return new(n||t)(H(ve),H(ke),H(sn),H(_r))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})(),bn=new ue("CDK_DRAG_PARENT");var wn=new ue("CdkDragHandle");var gr=new ue("CdkDragPlaceholder");var vr=new ue("CdkDragPreview");var En=new ue("CDK_DRAG_CONFIG"),yr="cdk-drag",Cn=new ue("CdkDropList"),Pn=(()=>{let t=class t{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,n,o,l,d,p,g,i,s,c,u){this.element=e,this.dropContainer=n,this._ngZone=l,this._viewContainerRef=d,this._dir=g,this._changeDetectorRef=s,this._selfHandle=c,this._parentDrag=u,this._destroyed=new B,this.started=new ne,this.released=new ne,this.ended=new ne,this.entered=new ne,this.exited=new ne,this.dropped=new ne,this.moved=new Be(m=>{let v=this._dragRef.moved.pipe(me(f=>({source:this,pointerPosition:f.pointerPosition,event:f.event,delta:f.delta,distance:f.distance}))).subscribe(m);return()=>{v.unsubscribe()}}),this._dragRef=i.createDrag(e,{dragStartThreshold:p&&p.dragStartThreshold!=null?p.dragStartThreshold:5,pointerDirectionChangeThreshold:p&&p.pointerDirectionChangeThreshold!=null?p.pointerDirectionChangeThreshold:5,zIndex:p?.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),p&&this._assignDefaults(p),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Lt(1),Ce(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){let n=e.rootElementSelector,o=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){let e=this.element.nativeElement,n=e;this.rootElementSelector&&(n=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Q(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let n=this._dir,o=this.dragStartDelay,l=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,d=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay=typeof o=="object"&&o?o:yt(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(l).withPreviewTemplate(d).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(Lt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains(yr)){e.withParent(t._dragInstances.find(o=>o.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){let{lockAxis:n,dragStartDelay:o,constrainPosition:l,previewClass:d,boundaryElement:p,draggingDisabled:g,rootElementSelector:i,previewContainer:s}=e;this.disabled=g??!1,this.dragStartDelay=o||0,n&&(this.lockAxis=n),l&&(this.constrainPosition=l),d&&(this.previewClass=d),p&&(this.boundaryElement=p),i&&(this.rootElementSelector=i),s&&(this.previewContainer=s)}_setupHandlesListener(){this._handles.changes.pipe(He(this._handles),Ei(e=>{let n=e.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),re(e=>ot(...e.map(n=>n._stateChanges.pipe(He(n))))),Ce(this._destroyed)).subscribe(e=>{let n=this._dragRef,o=e.element.nativeElement;e.disabled?n.disableHandle(o):n.enableHandle(o)})}};t._dragInstances=[],t.\u0275fac=function(n){return new(n||t)(G(Pe),G(Cn,12),G(ve),G(ke),G(Vt),G(En,8),G(ii,8),G(Dn),G(ut),G(wn,10),G(bn,12))},t.\u0275dir=Ge({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(n,o,l){if(n&1&&(ft(l,vr,5),ft(l,gr,5),ft(l,wn,5)),n&2){let d;Ue(d=$e())&&(o._previewTemplate=d.first),Ue(d=$e())&&(o._placeholderTemplate=d.first),Ue(d=$e())&&(o._handles=d)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,o){n&2&&he("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[q.None,"cdkDragData","data"],lockAxis:[q.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[q.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[q.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[q.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[q.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[q.HasDecoratorInputTransform,"cdkDragDisabled","disabled",qe],constrainPosition:[q.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[q.None,"cdkDragPreviewClass","previewClass"],previewContainer:[q.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Ze([{provide:bn,useExisting:t}]),ht,Nt]});let a=t;return a})(),Sn=new ue("CdkDropListGroup");var br=0,An=(()=>{let t=class t{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,n,o,l,d,p,g){this.element=e,this._changeDetectorRef=o,this._scrollDispatcher=l,this._dir=d,this._group=p,this._destroyed=new B,this.connectedTo=[],this.id=`cdk-drop-list-${br++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new ne,this.entered=new ne,this.exited=new ne,this.sorted=new ne,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,g&&this._assignDefaults(g),this._dropListRef.enterPredicate=(i,s)=>this.enterPredicate(i.data,s.data),this._dropListRef.sortPredicate=(i,s,c)=>this.sortPredicate(i,s.data,c.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),p&&p._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,n)=>e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(He(this._dir.value),Ce(this._destroyed)).subscribe(n=>e.withDirection(n)),e.beforeStarted.subscribe(()=>{let n=nn(this.connectedTo).map(o=>{if(typeof o=="string"){let l=t._dropLists.find(d=>d.id===o);return l}return o});if(this._group&&this._group._items.forEach(o=>{n.indexOf(o)===-1&&n.push(o)}),!this._scrollableParentsResolved){let o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(l=>l.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=yt(this.autoScrollStep,2),e.connectedTo(n.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),ot(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:n,draggingDisabled:o,sortingDisabled:l,listAutoScrollDisabled:d,listOrientation:p}=e;this.disabled=o??!1,this.sortingDisabled=l??!1,this.autoScrollDisabled=d??!1,this.orientation=p||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}};t._dropLists=[],t.\u0275fac=function(n){return new(n||t)(G(Pe),G(Dn),G(ut),G(rn),G(ii,8),G(Sn,12),G(En,8))},t.\u0275dir=Ge({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,o){n&2&&(Ie("id",o.id),he("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[q.None,"cdkDropListConnectedTo","connectedTo"],data:[q.None,"cdkDropListData","data"],orientation:[q.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[q.None,"cdkDropListLockAxis","lockAxis"],disabled:[q.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",qe],sortingDisabled:[q.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",qe],enterPredicate:[q.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[q.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[q.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",qe],autoScrollStep:[q.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[Ze([{provide:Sn,useValue:void 0},{provide:Cn,useExisting:t}]),ht]});let a=t;return a})();var hi={};(function a(t,r,e,n){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!t.OffscreenCanvas)return!1;var _=new OffscreenCanvas(1,1),h=_.getContext("2d");h.fillRect(0,0,1,1);var x=_.transferToImageBitmap();try{h.createPattern(x,"no-repeat")}catch{return!1}return!0}();function p(){}function g(_){var h=r.exports.Promise,x=h!==void 0?h:t.Promise;return typeof x=="function"?new x(_):(_(p,p),null)}var i=function(_,h){return{transform:function(x){if(_)return x;if(h.has(x))return h.get(x);var I=new OffscreenCanvas(x.width,x.height),D=I.getContext("2d");return D.drawImage(x,0,0),h.set(x,I),I},clear:function(){h.clear()}}}(d,new Map),s=function(){var _=Math.floor(16.666666666666668),h,x,I={},D=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(h=function(E){var P=Math.random();return I[P]=requestAnimationFrame(function k(A){D===A||D+_-1<A?(D=A,delete I[P],E()):I[P]=requestAnimationFrame(k)}),P},x=function(E){I[E]&&cancelAnimationFrame(I[E])}):(h=function(E){return setTimeout(E,_)},x=function(E){return clearTimeout(E)}),{frame:h,cancel:x}}(),c=function(){var _,h,x={};function I(D){function E(P,k){D.postMessage({options:P||{},callback:k})}D.init=function(k){var A=k.transferControlToOffscreen();D.postMessage({canvas:A},[A])},D.fire=function(k,A,j){if(h)return E(k,null),h;var $=Math.random().toString(36).slice(2);return h=g(function(z){function Z(Y){Y.data.callback===$&&(delete x[$],D.removeEventListener("message",Z),h=null,i.clear(),j(),z())}D.addEventListener("message",Z),E(k,$),x[$]=Z.bind(null,{data:{callback:$}})}),h},D.reset=function(){D.postMessage({reset:!0});for(var k in x)x[k](),delete x[k]}}return function(){if(_)return _;if(!e&&o){var D=["var CONFETTI, SIZE = {}, module = {};","("+a.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{_=new Worker(URL.createObjectURL(new Blob([D])))}catch(E){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",E),null}I(_)}return _}}(),u={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(_,h){return h?h(_):_}function v(_){return _!=null}function f(_,h,x){return m(_&&v(_[h])?_[h]:u[h],x)}function w(_){return _<0?0:Math.floor(_)}function C(_,h){return Math.floor(Math.random()*(h-_))+_}function N(_){return parseInt(_,16)}function ee(_){return _.map(ye)}function ye(_){var h=String(_).replace(/[^0-9a-f]/gi,"");return h.length<6&&(h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]),{r:N(h.substring(0,2)),g:N(h.substring(2,4)),b:N(h.substring(4,6))}}function De(_){var h=f(_,"origin",Object);return h.x=f(h,"x",Number),h.y=f(h,"y",Number),h}function Ne(_){_.width=document.documentElement.clientWidth,_.height=document.documentElement.clientHeight}function V(_){var h=_.getBoundingClientRect();_.width=h.width,_.height=h.height}function et(_){var h=document.createElement("canvas");return h.style.position="fixed",h.style.top="0px",h.style.left="0px",h.style.pointerEvents="none",h.style.zIndex=_,h}function tt(_,h,x,I,D,E,P,k,A){_.save(),_.translate(h,x),_.rotate(E),_.scale(I,D),_.arc(0,0,1,P,k,A),_.restore()}function Pt(_){var h=_.angle*(Math.PI/180),x=_.spread*(Math.PI/180);return{x:_.x,y:_.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:_.startVelocity*.5+Math.random()*_.startVelocity,angle2D:-h+(.5*x-Math.random()*x),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:_.color,shape:_.shape,tick:0,totalTicks:_.ticks,decay:_.decay,drift:_.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:_.gravity*3,ovalScalar:.6,scalar:_.scalar,flat:_.flat}}function it(_,h){h.x+=Math.cos(h.angle2D)*h.velocity+h.drift,h.y+=Math.sin(h.angle2D)*h.velocity+h.gravity,h.velocity*=h.decay,h.flat?(h.wobble=0,h.wobbleX=h.x+10*h.scalar,h.wobbleY=h.y+10*h.scalar,h.tiltSin=0,h.tiltCos=0,h.random=1):(h.wobble+=h.wobbleSpeed,h.wobbleX=h.x+10*h.scalar*Math.cos(h.wobble),h.wobbleY=h.y+10*h.scalar*Math.sin(h.wobble),h.tiltAngle+=.1,h.tiltSin=Math.sin(h.tiltAngle),h.tiltCos=Math.cos(h.tiltAngle),h.random=Math.random()+2);var x=h.tick++/h.totalTicks,I=h.x+h.random*h.tiltCos,D=h.y+h.random*h.tiltSin,E=h.wobbleX+h.random*h.tiltCos,P=h.wobbleY+h.random*h.tiltSin;if(_.fillStyle="rgba("+h.color.r+", "+h.color.g+", "+h.color.b+", "+(1-x)+")",_.beginPath(),l&&h.shape.type==="path"&&typeof h.shape.path=="string"&&Array.isArray(h.shape.matrix))_.fill(Vn(h.shape.path,h.shape.matrix,h.x,h.y,Math.abs(E-I)*.1,Math.abs(P-D)*.1,Math.PI/10*h.wobble));else if(h.shape.type==="bitmap"){var k=Math.PI/10*h.wobble,A=Math.abs(E-I)*.1,j=Math.abs(P-D)*.1,$=h.shape.bitmap.width*h.scalar,z=h.shape.bitmap.height*h.scalar,Z=new DOMMatrix([Math.cos(k)*A,Math.sin(k)*A,-Math.sin(k)*j,Math.cos(k)*j,h.x,h.y]);Z.multiplySelf(new DOMMatrix(h.shape.matrix));var Y=_.createPattern(i.transform(h.shape.bitmap),"no-repeat");Y.setTransform(Z),_.globalAlpha=1-x,_.fillStyle=Y,_.fillRect(h.x-$/2,h.y-z/2,$,z),_.globalAlpha=1}else if(h.shape==="circle")_.ellipse?_.ellipse(h.x,h.y,Math.abs(E-I)*h.ovalScalar,Math.abs(P-D)*h.ovalScalar,Math.PI/10*h.wobble,0,2*Math.PI):tt(_,h.x,h.y,Math.abs(E-I)*h.ovalScalar,Math.abs(P-D)*h.ovalScalar,Math.PI/10*h.wobble,0,2*Math.PI);else if(h.shape==="star")for(var O=Math.PI/2*3,te=4*h.scalar,ae=8*h.scalar,le=h.x,_e=h.y,we=5,de=Math.PI/we;we--;)le=h.x+Math.cos(O)*ae,_e=h.y+Math.sin(O)*ae,_.lineTo(le,_e),O+=de,le=h.x+Math.cos(O)*te,_e=h.y+Math.sin(O)*te,_.lineTo(le,_e),O+=de;else _.moveTo(Math.floor(h.x),Math.floor(h.y)),_.lineTo(Math.floor(h.wobbleX),Math.floor(D)),_.lineTo(Math.floor(E),Math.floor(P)),_.lineTo(Math.floor(I),Math.floor(h.wobbleY));return _.closePath(),_.fill(),h.tick<h.totalTicks}function be(_,h,x,I,D){var E=h.slice(),P=_.getContext("2d"),k,A,j=g(function($){function z(){k=A=null,P.clearRect(0,0,I.width,I.height),i.clear(),D(),$()}function Z(){e&&!(I.width===n.width&&I.height===n.height)&&(I.width=_.width=n.width,I.height=_.height=n.height),!I.width&&!I.height&&(x(_),I.width=_.width,I.height=_.height),P.clearRect(0,0,I.width,I.height),E=E.filter(function(Y){return it(P,Y)}),E.length?k=s.frame(Z):z()}k=s.frame(Z),A=z});return{addFettis:function($){return E=E.concat($),j},canvas:_,promise:j,reset:function(){k&&s.cancel(k),A&&A()}}}function nt(_,h){var x=!_,I=!!f(h||{},"resize"),D=!1,E=f(h,"disableForReducedMotion",Boolean),P=o&&!!f(h||{},"useWorker"),k=P?c():null,A=x?Ne:V,j=_&&k?!!_.__confetti_initialized:!1,$=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,z;function Z(O,te,ae){for(var le=f(O,"particleCount",w),_e=f(O,"angle",Number),we=f(O,"spread",Number),de=f(O,"startVelocity",Number),Gn=f(O,"decay",Number),zn=f(O,"gravity",Number),Wn=f(O,"drift",Number),wi=f(O,"colors",ee),Un=f(O,"ticks",Number),Si=f(O,"shapes"),$n=f(O,"scalar"),Zn=!!f(O,"flat"),xi=De(O),ki=le,Rt=[],qn=_.width*xi.x,Yn=_.height*xi.y;ki--;)Rt.push(Pt({x:qn,y:Yn,angle:_e,spread:we,startVelocity:de,color:wi[ki%wi.length],shape:Si[C(0,Si.length)],ticks:Un,decay:Gn,gravity:zn,drift:Wn,scalar:$n,flat:Zn}));return z?z.addFettis(Rt):(z=be(_,Rt,A,te,ae),z.promise)}function Y(O){var te=E||f(O,"disableForReducedMotion",Boolean),ae=f(O,"zIndex",Number);if(te&&$)return g(function(de){de()});x&&z?_=z.canvas:x&&!_&&(_=et(ae),document.body.appendChild(_)),I&&!j&&A(_);var le={width:_.width,height:_.height};k&&!j&&k.init(_),j=!0,k&&(_.__confetti_initialized=!0);function _e(){if(k){var de={getBoundingClientRect:function(){if(!x)return _.getBoundingClientRect()}};A(de),k.postMessage({resize:{width:de.width,height:de.height}});return}le.width=le.height=null}function we(){z=null,I&&(D=!1,t.removeEventListener("resize",_e)),x&&_&&(document.body.removeChild(_),_=null,j=!1)}return I&&!D&&(D=!0,t.addEventListener("resize",_e,!1)),k?k.fire(O,le,we):Z(O,le,we)}return Y.reset=function(){k&&k.reset(),z&&z.reset()},Y}var At;function bi(){return At||(At=nt(null,{useWorker:!0,resize:!0})),At}function Vn(_,h,x,I,D,E,P){var k=new Path2D(_),A=new Path2D;A.addPath(k,new DOMMatrix(h));var j=new Path2D;return j.addPath(A,new DOMMatrix([Math.cos(P)*D,Math.sin(P)*D,-Math.sin(P)*E,Math.cos(P)*E,x,I])),j}function jn(_){if(!l)throw new Error("path confetti are not supported in this browser");var h,x;typeof _=="string"?h=_:(h=_.path,x=_.matrix);var I=new Path2D(h),D=document.createElement("canvas"),E=D.getContext("2d");if(!x){for(var P=1e3,k=P,A=P,j=0,$=0,z,Z,Y=0;Y<P;Y+=2)for(var O=0;O<P;O+=2)E.isPointInPath(I,Y,O,"nonzero")&&(k=Math.min(k,Y),A=Math.min(A,O),j=Math.max(j,Y),$=Math.max($,O));z=j-k,Z=$-A;var te=10,ae=Math.min(te/z,te/Z);x=[ae,0,0,ae,-Math.round(z/2+k)*ae,-Math.round(Z/2+A)*ae]}return{type:"path",path:h,matrix:x}}function Hn(_){var h,x=1,I="#000000",D='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof _=="string"?h=_:(h=_.text,x="scalar"in _?_.scalar:x,D="fontFamily"in _?_.fontFamily:D,I="color"in _?_.color:I);var E=10*x,P=""+E+"px "+D,k=new OffscreenCanvas(E,E),A=k.getContext("2d");A.font=P;var j=A.measureText(h),$=Math.ceil(j.actualBoundingBoxRight+j.actualBoundingBoxLeft),z=Math.ceil(j.actualBoundingBoxAscent+j.actualBoundingBoxDescent),Z=2,Y=j.actualBoundingBoxLeft+Z,O=j.actualBoundingBoxAscent+Z;$+=Z+Z,z+=Z+Z,k=new OffscreenCanvas($,z),A=k.getContext("2d"),A.font=P,A.fillStyle=I,A.fillText(h,Y,O);var te=1/x;return{type:"bitmap",bitmap:k.transferToImageBitmap(),matrix:[te,0,0,te,-$*te/2,-z*te/2]}}r.exports=function(){return bi().apply(this,arguments)},r.exports.reset=function(){bi().reset()},r.exports.create=nt,r.exports.shapeFromPath=jn,r.exports.shapeFromText=Hn})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),hi,!1);var fi=hi.exports,qs=hi.exports.create;var Je=Xn(Rn());var On=(()=>{let t=class t{constructor(e){this.http=e,this.authorizing=null}authorize(){let e=localStorage.getItem("spotify_token"),n=localStorage.getItem("spotify_token_expires");return e&&n&&!isNaN(+n)&&+n>Date.now()?ie(e):this.authorizing?this.authorizing:(this.authorizing=new B,this.http.get("https://api.codetabs.com/v1/proxy/?quest=https://open.spotify.com/get_access_token").pipe(me(o=>{if(!o.accessToken)throw new Error("no access token");return localStorage.setItem("spotify_token",o.accessToken),localStorage.setItem("spotify_token_expires",o.accessTokenExpirationTimestampMs),this.authorizing?.next(o.accessToken),this.authorizing=null,o.accessToken}),Di({count:3,delay:2e3})))}searchAll(e,n=10,o=20,l="track"){return rt(e).pipe(at(n),ct(d=>je(d.map(p=>this.searchTrack(p,o,l)))),lt((d,p)=>[...d,...p],[]))}searchTrack(e,n=20,o="track"){return this.authorize().pipe(re(()=>this.http.get("https://api.spotify.com/v1/search",{params:{q:e,limit:n,type:o,market:qt()},headers:{Authorization:`Bearer ${localStorage.getItem("spotify_token")}`}}).pipe(me(l=>l.tracks))))}playlist(e){return this.tracks(`https://api.spotify.com/v1/playlists/${e}/tracks`,100)}tracks(e,n=50,o=0){return this.authorize().pipe(re(()=>this.http.get(e,{params:{fields:"items(track(is_playable,id,uri,name,duration_ms,artists(name),album(album_type,name,release_date,release_date_precision,images(url)))),total,limit,offset",offset:o,limit:n,market:qt()},headers:{Authorization:`Bearer ${localStorage.getItem("spotify_token")}`}}).pipe(re(l=>l.total<l.offset+l.limit?ie(l):this.tracks(e,n,l.offset+l.limit).pipe(me(d=>(l.items.push(...d.items),l)))))))}};t.\u0275fac=function(n){return new(n||t)(H(Re))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var Ln=(()=>{let t=class t{constructor(e){this.http=e}searchAll(e,n=Oe(),o=10,l=1){return this.searchAllAlternatives(e.map(d=>[{search:d,language:n}]),o,l)}searchAllAlternatives(e,n=10,o=1){return rt(e).pipe(at(n),ct(l=>je(l.map(d=>this.searchAlternatives(d,o)))),lt((l,d)=>[...l,...d],[]))}searchAlternatives(e,n=1){return this.searchPage(e[0].search,n,e[0].language).pipe(re(o=>o.pages.length>0&&e[0].check&&e[0].check([o.pages[0]])?ie(o.pages):o.pages.length>0?je(o.pages.filter(l=>l.key).map(l=>this.page(l.key,e[0].language))).pipe(re(l=>{let d=o.pages.map((p,g)=>Ee(ce({},p),{html:l[g]}));return e.length>1&&e[0].check&&!e[0].check(d)?this.searchAlternatives(e.slice(1),n):ie(d)})):e.length>1?this.searchAlternatives(e.slice(1),n):ie([])))}page(e,n=Oe()){return this.http.get(`https://${n}.wikipedia.org/w/rest.php/v1/page/${encodeURIComponent(e)}/html`,{responseType:"text"})}searchPage(e,n=1,o=Oe()){return this.http.get(`https://${o}.wikipedia.org/w/rest.php/v1/search/page`,{params:{q:e,limit:n}})}};t.\u0275fac=function(n){return new(n||t)(H(Re))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var Fn=["[0-9]{4} remastered","remastered [0-9]{4}","remastered","[0-9]{4} remaster","remaster [0-9]{4}","remaster","rerecorded","mono","stereo","studio recording"],kr=["[0-9]{4} version","version [0-9]{4}","single version","video version","from .*","the original","spanglish version","version revisited"],vi=["remix","mix","radio","instrumental","interlude","acoustic","edit","alternate"],pi=[...Fn,...vi,...kr];function Nn(a){return new RegExp(a.map(t=>`\\b${t}\\b`).join("|"),"ig")}function _i(a,t){return a.replace(Nn(t),"").replace(/\s+/g," ")}function mi(a,t){return(a||"").match(Nn(t))||[]}var Et=String(new Date().getFullYear()+1),gi=new RegExp(`\\b(?:1[4-9][0-9][0-9])\\b|\\b(?:[2-${Et[0]}][0-${Et[1]}][0-${Et[2]}][0-${Et[3]}])\\b`,"ig");function yi(a,t,r="first",e="high"){for(let n of a){if(!n||t&&n.title&&(n.title==t||Ki(n.title,t)>.55))continue;let o=n.description?.match(gi);if(o||(o=$t(n.excerpt).match(gi)),o||(o=$t(n.html,"figure, figure ~ * small").match(gi)),o)return{page:n,year:Ji(o.map(l=>+l),r)}}if(e)return yi(a,void 0,e,null)}var Bn=(()=>{let t=class t{constructor(e,n,o){this.http=e,this.spotifyApi=n,this.wikiApi=o}get(e){return e.type=="spotify-playlist"?this.spotifyApi.playlist(e.payload):e.type=="json"?this.http.get(e.payload):ie(void 0)}handleTimes(e,n){if(n=="fix-all")return this.handleTimes(e,"fix-all-spotify").pipe(re(o=>(o.items.forEach(l=>l.track.fixed_release_time=void 0),this.handleTimes(o,"fix-all-wiki"))));if(n=="remove-tags"||n=="fix-tags"||n=="fix-all-wiki"||n=="fix-all-spotify"){let o=e.items.filter(l=>l.track.fixed_release_time?!1:n=="fix-all-spotify"||n=="fix-all-wiki"?!0:mi(l.track.name,Fn).length>0);return o.length==0?ie(e):n=="remove-tags"?(console.log("tags removed:",o.map(l=>`${l.track.name} - ${l.track.artists[0].name} | ${l.track.album.release_date}`)),e.items=e.items.filter(l=>!o.some(d=>d.track.id==l.track.id)),e.total=e.items.length,ie(e)):n=="fix-all-wiki"?this.wikiApi.searchAllAlternatives(o.map(l=>{let d=en(_i(l.track.name.replace(/ *\([^)]*\) */g,"").replace(/ *\[[^\]]*\] */g,""),pi)),p=s=>yi(s,l.track.artists[0].name,"first",null),g=Oe(),i=[];return i.push({search:`${d} ${l.track.artists[0].name}`,language:g,check:p}),g!="en"&&i.push({search:`${d} ${l.track.artists[0].name}`,language:"en",check:p}),i.push({search:`${d}`,language:g,check:p}),g!="en"&&i.push({search:`${d}`,language:"en",check:p}),i}),100,2).pipe(me(l=>{let d=[];for(let p=0;p<l.length;p++){let g=o[p];g.track.fixed_release_time=!0;let i=yi(l[p],g.track.artists[0].name);if(!i){console.log("not found",g.track.name,g.track.artists[0].name);continue}i.year&&i.year<new Date(g.track.album.release_date).getFullYear()?(d.push(`${g.track.name} - ${g.track.artists[0].name} | ${g.track.album.release_date} => ${i.year} | ${i.page.title}`),g.track.album.release_date=String(i.year),g.track.album.release_date_precision="year"):console.log("not fixed",g.track.name,g.track.artists[0].name,"found:",i.year,"had:",new Date(g.track.album.release_date).getFullYear())}return console.log("tags fixed:",d),e})):this.spotifyApi.searchAll(o.map(l=>`${l.track.name} - ${l.track.artists.map(d=>d.name).join(", ")}`),100,20).pipe(me(l=>{let d=[];for(let p=0;p<l.length;p++){let g=o[p],i=g.track.name,s=_i(i,pi),c=mi(i,vi),u=l[p].items.filter(m=>m.artists[0].name==g.track.artists[0].name&&mi(m.name,vi).length<=c.length&&Xi(s,_i(m.name,pi))>.7).sort((m,v)=>new Date(m.album.release_date)<new Date(v.album.release_date)?-1:1)[0];u||console.log("not found",i,g.track.artists[0].name,l[p].items),u&&new Date(u.album.release_date)<new Date(g.track.album.release_date)&&(d.push(`${g.track.name} - ${g.track.artists[0].name} | ${g.track.album.release_date} => ${u.album.release_date} | ${u.name} - ${u.artists[0].name}`),g.track=u),g.track.fixed_release_time=!0}return console.log("tags fixed:",d),e}))}return ie(e)}};t.\u0275fac=function(n){return new(n||t)(H(Re),H(On),H(Ln))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();function Tr(a,t){a&1&&(X(),y(0,"svg",55),W(1,"path",56),b())}function Dr(a,t){a&1&&(X(),y(0,"svg",57),W(1,"path",58),b())}var Ct=a=>({"loading loading-spinner":a});function Er(a,t){if(a&1){let r=fe();ze(0),y(1,"div",52),U("cdkDragMoved",function(n){L(r);let o=T(3);return F(o.dragMoved(n))})("cdkDragReleased",function(n){L(r);let o=T(3);return F(o.dragReleased(n))})("cdkDragEnded",function(n){L(r);let o=T(3);return F(o.dragEnded(n))}),y(2,"div",53),R(3),b(),y(4,"button",54),U("click",function(){L(r);let n=T(3);return F(n.toggleOtherSong(n.gamePlaylist[n.track_n].track_url))}),y(5,"div",44),se(6,Tr,2,0,"svg",45)(7,Dr,2,0,"svg",46),b()()(),We()}if(a&2){let r=T().$implicit,e=T(2);S(),M("cdkDragData",r),Ie("id","drag-list-id-"+e.gamePlaylist[e.track_n].id),S(2),pe(e.dragInnerText),S(2),M("ngClass",Ae(6,Ct,e.spotifyPlaybackState.isBuffering&&e.gamePlaylist[e.track_n].track_url==e.spotifyEmbedUrl)),S(),M("ngIf",e.gamePlaylist[e.track_n].track_url!=e.spotifyEmbedUrl||e.spotifyPlaybackState.isPaused),S(),M("ngIf",!(e.gamePlaylist[e.track_n].track_url!=e.spotifyEmbedUrl||e.spotifyPlaybackState.isPaused))}}function Cr(a,t){a&1&&(X(),y(0,"svg",55),W(1,"path",56),b())}function Pr(a,t){a&1&&(X(),y(0,"svg",57),W(1,"path",58),b())}function Ar(a,t){if(a&1){let r=fe();ze(0),y(1,"div",59)(2,"div",60)(3,"a",61),W(4,"img",62),b(),y(5,"div",63)(6,"div",64),R(7),b(),y(8,"div",65),R(9),b()()(),y(10,"div",66)(11,"div",67),R(12),b(),y(13,"button",68),U("click",function(){L(r);let n=T().$implicit,o=T(2);return F(o.toggleOtherSong(o.guessedTracks[n].track_url))}),y(14,"div",44),se(15,Cr,2,0,"svg",45)(16,Pr,2,0,"svg",46),b()()()(),We()}if(a&2){let r=T().$implicit,e=T(2);S(),he("bg-error-to-neutral",!e.guessedTracks[r].guessed_correct)("bg-success-to-neutral",e.guessedTracks[r].guessed_correct&&e.guessedTracks[r].id!=e.gamePlaylist[0].id),M("ngClass",e.lastGuess&&!e.lastGuess.hideAnimation&&!e.lastGuess.modalOpen&&e.lastGuess.id==e.guessedTracks[r].id?e.lastGuess.correct?"animate-bg-success-to-neutral":"animate-bg-error-to-neutral":""),Ie("id","drag-list-id-"+e.guessedTracks[r].id),S(2),M("href","https://open.spotify.com/track/"+e.guessedTracks[r].id,dt),S(),M("src",e.guessedTracks[r].album_image_url,dt),S(3),pe(e.guessedTracks[r].title),S(2),pe(e.guessedTracks[r].artist),S(3),pe(e.guessedTracks[r].date.getFullYear()),S(),he("btn-error",!e.guessedTracks[r].guessed_correct)("btn-success",e.guessedTracks[r].guessed_correct&&e.guessedTracks[r].id!=e.gamePlaylist[0].id),S(),M("ngClass",Ae(18,Ct,e.spotifyPlaybackState.isBuffering&&e.guessedTracks[r].track_url==e.spotifyEmbedUrl)),S(),M("ngIf",e.guessedTracks[r].track_url!=e.spotifyEmbedUrl||e.spotifyPlaybackState.isPaused),S(),M("ngIf",!(e.guessedTracks[r].track_url!=e.spotifyEmbedUrl||e.spotifyPlaybackState.isPaused))}}function Rr(a,t){if(a&1&&se(0,Er,8,8,"ng-container",49)(1,Ar,17,20,"ng-container",49),a&2){let r=t.$implicit;M("ngIf",r==-1),S(),M("ngIf",r!=-1)}}function Mr(a,t){a&1&&(X(),y(0,"svg",55),W(1,"path",56),b())}function Or(a,t){a&1&&(X(),y(0,"svg",57),W(1,"path",58),b())}function Lr(a,t){if(a&1){let r=fe();y(0,"div",52),U("cdkDragMoved",function(n){L(r);let o=T(3);return F(o.dragMoved(n))})("cdkDragReleased",function(n){L(r);let o=T(3);return F(o.dragReleased(n))})("cdkDragEnded",function(n){L(r);let o=T(3);return F(o.dragEnded(n))}),y(1,"div",53),R(2),b(),y(3,"button",54),U("click",function(){L(r);let n=T(3);return F(n.toggleOtherSong(n.gamePlaylist[n.track_n].track_url))}),y(4,"div",44),se(5,Mr,2,0,"svg",45)(6,Or,2,0,"svg",46),b()()()}if(a&2){let r=t.$implicit,e=T(3);M("cdkDragData",r),Ie("id","drag-list-id-"+e.gamePlaylist[e.track_n].id),S(2),pe(e.dragInnerText),S(2),M("ngClass",Ae(6,Ct,e.spotifyPlaybackState.isBuffering&&e.gamePlaylist[e.track_n].track_url==e.spotifyEmbedUrl)),S(),M("ngIf",e.gamePlaylist[e.track_n].track_url!=e.spotifyEmbedUrl||e.spotifyPlaybackState.isPaused),S(),M("ngIf",!(e.gamePlaylist[e.track_n].track_url!=e.spotifyEmbedUrl||e.spotifyPlaybackState.isPaused))}}function Fr(a,t){if(a&1){let r=fe();y(0,"div",71)(1,"button",72),U("click",function(){L(r);let n=T(3);return F(n.revert())}),X(),y(2,"svg",23),W(3,"path",73),b()(),xe(),y(4,"div",74)(5,"div",75)(6,"span",76),R(7),b()(),y(8,"button",77),U("click",function(){L(r);let n=T(3);return F(n.guess())}),X(),y(9,"svg",78),W(10,"path",79),b()()()()}if(a&2){let r=T(3);S(7),pe(r.yearText)}}function Nr(a,t){if(a&1){let r=fe();ze(0),y(1,"div",69),U("cdkDropListDropped",function(n){L(r);let o=T(2);return F(o.drop(n))}),Ht(2,Lr,7,8,"div",80,jt),b(),se(4,Fr,11,1,"div",70),We()}if(a&2){let r=T(2);S(),he("hidden",r.yearText!=""),M("cdkDropListData",r.newd)("cdkDropListEnterPredicate",r.noReturnPredicate),S(),Gt(r.newd),S(2),M("ngIf",r.yearText!="")}}function Br(a,t){if(a&1){let r=fe();y(0,"button",81),U("click",function(){L(r);let n=T(2);return F(n.openEndModal())}),R(1," Summary "),b()}}function Vr(a,t){a&1&&(X(),y(0,"svg",55),W(1,"path",56),b())}function jr(a,t){a&1&&(X(),y(0,"svg",57),W(1,"path",58),b())}function Hr(a,t){if(a&1&&(ze(0),y(1,"h3",82),R(2),b(),y(3,"div",83)(4,"div",60),W(5,"img",84),y(6,"div",85)(7,"div",64),R(8),b(),y(9,"div",65),R(10),b()()(),y(11,"div",86)(12,"div",87),R(13),b()()(),y(14,"p",88),R(15,"You were off: "),y(16,"span",89),R(17),b(),R(18," and "),y(19,"span",89),R(20),b(),R(21," . "),b(),We()),a&2){let r=T(2);S(2),ge("Nope - You guessed too ",r.lastGuess.slotDiff>0?"late":"early","!"),S(3),M("src",r.lastGuess.gameTrack.album_image_url,dt),S(3),pe(r.lastGuess.gameTrack.title),S(2),pe(r.lastGuess.gameTrack.artist),S(3),pe(r.lastGuess.gameTrack.date.getFullYear()),S(4),pt("",r.lastGuess.absSlotDiff," Slot",r.lastGuess.absSlotDiff!=1?"s":"",""),S(3),pt("",r.lastGuess.absDateDiff," Year",r.lastGuess.absDateDiff!=1?"s":"","")}}var Gr=a=>({"animation-duration":a}),zr=()=>({standalone:!0});function Wr(a,t){if(a&1){let r=fe();y(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"button",22),U("click",function(){L(r);let n=T();return F(n.openMenu())}),X(),y(6,"svg",23),W(7,"path",24),b()(),xe(),y(8,"div",25),X(),y(9,"svg",26),W(10,"path",27)(11,"path",28),b(),R(12),b()(),xe(),y(13,"div",29)(14,"div",30)(15,"div",31),R(16),b()(),y(17,"div",30)(18,"div",32),R(19),b()()()()()(),y(20,"div",33)(21,"div",34),U("cdkDropListDropped",function(n){L(r);let o=T();return F(o.drop(n))})("cdkDropListEntered",function(n){L(r);let o=T();return F(o.move(n))})("cdkDropListSorted",function(n){L(r);let o=T();return F(o.move(n))}),Ht(22,Rr,2,2,null,null,jt),b()(),y(24,"div",35)(25,"div",36),se(26,Nr,5,5,"ng-container",37)(27,Br,2,0,"ng-template",null,38,Ut),y(29,"div",39)(30,"div",40)(31,"button",41),U("click",function(){L(r);let n=T();return F(n.seekPlayback(0))}),X(),y(32,"svg",23),W(33,"path",42),b()(),xe(),y(34,"button",43),U("click",function(){L(r);let n=T();return F(n.togglePlayback())}),y(35,"div",44),se(36,Vr,2,0,"svg",45)(37,jr,2,0,"svg",46),b()()(),y(38,"input",47),U("input",function(){L(r);let n=T();return F(n.seekPlaybackStart())})("change",function(){L(r);let n=T();return F(n.seekPlayback())})("ngModelChange",function(n){L(r);let o=T();return F(o.playbackSeekValue=n)}),b()()()(),y(39,"dialog",3)(40,"div",48),se(41,Hr,22,9,"ng-container",49),b(),y(42,"div",50)(43,"button",15),U("click",function(){L(r);let n=T();return F(n.nextGuess())}),R(44,"close"),b()()(),W(45,"iframe",51),b()}if(a&2){let r=zt(28),e=T();S(9),M("ngStyle",Ae(18,Gr,e.totalStats.streak?""+1/e.totalStats.streak+"s":"0s")),S(3),ge(" ",e.totalStats.streak," "),S(4),ge(" ",e.totalStats.guessedRight," "),S(3),ge(" ",e.totalStats.guessedWrong," "),S(2),M("cdkDropListData",e.tracks)("cdkDropListSortPredicate",e.sortPredicate()),S(),Gt(e.tracks),S(4),M("ngIf",e.track_n<e.gamePlaylist.length)("ngIfElse",r),S(9),M("ngClass",Ae(20,Ct,e.spotifyPlaybackState.isBuffering&&e.track_n>0)),S(),M("ngIf",e.spotifyPlaybackState.isPaused),S(),M("ngIf",!e.spotifyPlaybackState.isPaused),S(),M("max",e.spotifyPlaybackState.duration)("ngModel",e.playbackSeekValue)("ngModelOptions",Ri(22,zr)),S(),he("modal-open",e.lastGuess==null?null:e.lastGuess.modalOpen),S(2),M("ngIf",e.lastGuess&&!e.lastGuess.correct),S(4),M("src",e.spotifyEmbedUrl,Ai)}}function Ur(a,t){a&1&&(y(0,"div",91),W(1,"span",92),b())}function $r(a,t){if(a&1&&se(0,Ur,2,0,"div",90),a&2){let r=T();M("ngIf",!r.startingModal)}}function Zr(a,t){if(a&1){let r=fe();y(0,"app-starting-modal",93),U("close",function(){L(r);let n=T();return F(n.clickFirstStart())}),b()}if(a&2){let r=T();M("loading",r.loading)}}function qr(a,t){if(a&1){let r=fe();y(0,"dialog",94)(1,"div",95)(2,"div",96)(3,"button",97),R(4," Invite "),b(),y(5,"label",98)(6,"input",99),U("change",function(){L(r);let n=T();return F(n.shareGame())}),b(),X(),y(7,"svg",100),W(8,"path",101),b(),y(9,"svg",102),W(10,"path",103)(11,"path",104),b()()(),xe(),y(12,"a",105),R(13," New Game "),b(),y(14,"button",106),U("click",function(){L(r);let n=T();return F(n.restartGame())}),R(15," Restart "),b(),W(16,"div",107),y(17,"button",108),U("click",function(){L(r);let n=T();return F(n.closeMenu())}),R(18," Continue "),b()(),y(19,"div",14)(20,"button",15),U("click",function(){L(r);let n=T();return F(n.closeMenu())}),R(21,"close"),b()()()}}function Fe(a,t){return a.getFullYear()-t.getFullYear()}function Yr(a,t){for(let r=a.length-1;r>0;r--){let e=Math.floor(t.next()*(r+1)),n=a[r];a[r]=a[e],a[e]=n}}var go=(()=>{let t=class t{constructor(e,n,o,l,d){this.router=e,this.playlistService=n,this.sanitizer=o,this.route=l,this.location=d,this.playlistLink=gt("assets/playlists/classic-english.json"),this.gameSettings={keepWrongGuesses:!1,seed:"",handleTimes:"fix-tags",limit:0},this.hadPreSeed=!1,this.firstDate=new Date("0000"),this.lastDate=new Date,this.currentScrollStep=0,this.loading=!0,this.loadingSubscription=null,this.startingModal=!0,this.menuModal=!1,this.menuPlayedPrev=!1,this.skippingResize=!1,this.endModal=!1,this.animationSubscription=null,this.viewChecked=!1,this.gamePlaylist=[],this.guessedTracks=[],this.track_n=0,this.tracks=[0],this.newd=[-1],this.lastGuess=null,this.timeListened=0,this.totalStats={guessedWrong:0,guessedRight:0,guessedEarly:0,guessedLate:0,totalDateOff:0,totalSlotOff:0,streak:0,highestStreak:0,totalTimeListened:0},this.rightSound=new Je.Howl({src:"assets/sound-effects/right.mp3"}),this.wrongSound=new Je.Howl({src:"assets/sound-effects/wrong.mp3"}),this.wonSound=new Je.Howl({src:"assets/sound-effects/won.mp3"}),this.lostSound=new Je.Howl({src:"assets/sound-effects/lost.mp3"}),this.spotifyEmbedReady=!1,this.replaySpotifyEmbedCommand=null,this.playbackSeekValue=0,this.spotifyPlaybackState={isPaused:!0,isBuffering:!0,duration:0,position:0},this.seekDragging=!1,this.yearText="",this.dragInnerText="Drag Me!",this.spotifyEmbedUrl=o.bypassSecurityTrustResourceUrl("")}requestFullscreen(){document.documentElement.requestFullscreen({navigationUI:"hide"}).then(()=>setTimeout(()=>this.skippingResize=!1,200)),Me()&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("portrait"),this.skippingResize=!0}clickFirstStart(){this.loading||(Me()&&this.requestFullscreen(),this.startingModal=!1,this.playPlaybackFromStart())}openMenu(){this.menuModal=!0,this.menuPlayedPrev=!this.spotifyPlaybackState.isPaused,this.sendSpotifyEmbedCommand({command:"pause"})}closeMenu(){Me()&&this.requestFullscreen(),this.menuModal=!1,this.menuPlayedPrev&&this.sendSpotifyEmbedCommand({command:"resume"})}openEndModal(){this.endModal=!0}closeEndModal(){this.endModal=!1}shareGame(){let e=document.createElement("input");e.value=window.location.href,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}restartGame(){if(!this.activePlaylist){this.router.navigate(["home"]);return}this.menuModal=!1,this.hadPreSeed||(this.gameSettings.seed=Zt()),this.updateUrl(),this.startGame(this.activePlaylist)}resizeEvent(e){this.startingModal||this.skippingResize||Me()&&this.openMenu()}ngOnInit(){this.route.queryParamMap.subscribe(e=>this.initGame(e)),this.animationSubscription=st(0,Ve).subscribe(()=>{let e=this.currentScrollStep;this.currentScrollStep!=0&&document.documentElement.scrollBy(0,e)})}ngAfterViewChecked(){this.viewChecked||(document.documentElement.scrollTo(0,document.documentElement.scrollHeight*.2),this.viewChecked=!0)}ngOnDestroy(){this.animationSubscription?.unsubscribe(),this.loadingSubscription?.unsubscribe()}updateUrl(){let e=this.router.createUrlTree([],{relativeTo:this.route,queryParams:{p:this.playlistLink.raw,s:JSON.stringify(this.gameSettings)},queryParamsHandling:"merge"});this.location.go(e.toString())}initGame(e){this.loading=!0,this.startingModal=!0,this.menuModal=!1;let n=gt(localStorage.getItem("playlist_link")),o=localStorage.getItem("game_settings");o&&(this.gameSettings=ce(ce({},this.gameSettings),JSON.parse(o)));let l=gt(e.get("p"));l&&(n=l);let d=e.get("s");if(d)try{let g=JSON.parse(d);this.gameSettings=ce(ce({},this.gameSettings),g)}catch{}if(this.gameSettings.seed?this.hadPreSeed=!0:this.gameSettings.seed=Zt(),!n){this.router.navigate(["home"]);return}this.playlistLink=n,this.updateUrl(),vt()&&(!Me()||document.fullscreenElement)&&(this.startingModal=!1);let p=localStorage.getItem("cached_playlist");if(p){let g=JSON.parse(p);if(g&&g.link==n.raw)return this.startGame(g)}this.loadingSubscription=this.playlistService.get(n).pipe(Ot(g=>{throw this.router.navigate(["home"]),g})).subscribe(g=>{if(!g){this.router.navigate(["home"]);return}this.firstStartGame(g)})}firstStartGame(e){this.loadingSubscription=this.playlistService.handleTimes(e,this.gameSettings.handleTimes).pipe(Ot(n=>{throw this.router.navigate(["home"]),n})).subscribe(n=>{this.startGame(Ee(ce({},n),{link:this.playlistLink.raw}))})}startGame(e){if(localStorage.setItem("cached_playlist",JSON.stringify(e)),this.timeListened=0,this.totalStats={guessedWrong:0,guessedRight:0,guessedEarly:0,guessedLate:0,totalDateOff:0,totalSlotOff:0,streak:0,highestStreak:0,totalTimeListened:0},this.activePlaylist=e,this.viewChecked=!1,this.gamePlaylist=e.items.filter(n=>n.track.is_playable!==!1).map(n=>{let o="";n.track.album.images.length>0&&(o=n.track.album.images[0].url);for(let l of n.track.album.images)if(l.width==300&&l.height==300){o=l.url;break}return{guessed_correct:!0,date:new Date(n.track.album.release_date),title:n.track.name,artist:n.track.artists[0].name,id:n.track.id,album_image_url:this.sanitizer.bypassSecurityTrustResourceUrl(o),track_url:this.sanitizer.bypassSecurityTrustResourceUrl(`https://open.spotify.com/embed/track/${n.track.id}?utm_source=generator`)}}),this.gamePlaylist.length>=1){let n=Math.min(...this.gamePlaylist.map(l=>l.date.getFullYear())),o=new Date(0);o.setFullYear(n-1-new Yt(String(n)+e.link).next()*50),this.firstDate=o}Yr(this.gamePlaylist,new Yt(this.gameSettings.seed)),this.gameSettings.limit>0&&(this.gamePlaylist=this.gamePlaylist.slice(0,this.gameSettings.limit)),this.guessedTracks=this.gamePlaylist.slice(0,1),this.track_n=this.guessedTracks.length,this.tracks=[...Array(this.track_n).keys()],this.newd=[-1],this.resetGuess(),this.loading=!1,this.gamePlaylist.length>1?this.setSpotifyEmbedUrl(this.gamePlaylist[this.track_n].track_url):this.gamePlaylist.length==1&&this.setSpotifyEmbedUrl(this.gamePlaylist[0].track_url),!this.startingModal&&vt()&&this.gamePlaylist.length>=1&&this.playPlaybackFromStart()}resetGuess(){this.dragInnerText="Drag Me!",this.yearText=""}guess(){this.resetGuess();let e=this.tracks.length-1,n=this.tracks.findIndex(p=>p==-1),o=this.gamePlaylist[this.track_n],l=0,d=0;if(n>0&&Fe(this.guessedTracks[n-1].date,o.date)>0)for(d=Fe(this.guessedTracks[n-1].date,o.date),l=1,n-=1;n>0&&!(Fe(this.guessedTracks[n-1].date,o.date)<=0);)n-=1,l+=1;else if(n<e&&Fe(o.date,this.guessedTracks[n].date)>0)for(d=-Fe(o.date,this.guessedTracks[n].date),l=-1,n+=1;n<e&&!(Fe(o.date,this.guessedTracks[n].date)<=0);)n+=1,l-=1;this.lastGuess={id:o.id,hideAnimation:!1,modalOpen:!0,correct:l==0,slotDiff:l,dateDiff:d,absSlotDiff:Math.abs(l),absDateDiff:Math.abs(d),gameTrack:this.gamePlaylist[this.track_n],timeListened:this.timeListened},l==0?(this.totalStats.guessedRight+=1,this.totalStats.streak+=1):(this.totalStats.guessedWrong+=1,this.totalStats.streak=0),this.totalStats.highestStreak=Math.max(this.totalStats.highestStreak,this.totalStats.streak),l<0&&(this.totalStats.guessedEarly+=1),l>0&&(this.totalStats.guessedLate+=1),this.totalStats.totalDateOff+=Math.abs(d),this.totalStats.totalSlotOff+=Math.abs(l),this.totalStats.totalTimeListened+=this.timeListened,this.timeListened=0,this.gameSettings.keepWrongGuesses||l==0?(this.guessedTracks.splice(n,0,this.gamePlaylist[this.track_n]),this.tracks=[...Array(this.tracks.length).keys()]):this.tracks=[...Array(this.tracks.length-1).keys()],l!=0&&(this.gamePlaylist[this.track_n].guessed_correct=!1),this.track_n+=1,this.newd=[-1],this.track_n<this.gamePlaylist.length?(this.setSpotifyEmbedUrl(this.gamePlaylist[this.track_n].track_url),l==0?(this.nextGuess(),fi({shapes:["star"],colors:["FFE400","FFBD00","E89400","FFCA6C","FDFFB8"],particleCount:50,spread:50,gravity:0,decay:.95,startVelocity:20,scalar:.75,ticks:50,origin:{y:.9,x:.5},zIndex:5e3}),this.rightSound.play()):this.wrongSound.play()):l==0?this.nextGuess():this.wrongSound.play()}nextGuess(){if(this.lastGuess&&(this.lastGuess.modalOpen=!1),this.track_n<this.gamePlaylist.length)this.playPlaybackFromStart();else{let e=this.totalStats.guessedRight+this.totalStats.guessedWrong,n=e>0?this.totalStats.guessedRight/e:0;if(this.sendSpotifyEmbedCommand({command:"pause"}),n>=.5){let o=(l,d)=>fi({shapes:["star"],colors:["FFE400","FFBD00","E89400","FFCA6C","FDFFB8"],particleCount:50,angle:Qi(l,d),spread:50,gravity:0,decay:.95,startVelocity:20,scalar:.75,ticks:50,origin:{y:.9,x:.5},zIndex:5e3});setTimeout(()=>o(45,75),0),setTimeout(()=>o(105,135),230),setTimeout(()=>o(45,75),500),setTimeout(()=>o(75,105),500),setTimeout(()=>o(105,135),500),this.wonSound.once("end",()=>this.sendSpotifyEmbedCommand({command:"resume"})),this.wonSound.play()}else this.lostSound.once("end",()=>this.sendSpotifyEmbedCommand({command:"resume"})),this.lostSound.play()}}toggleOtherSong(e){if(e==this.spotifyEmbedUrl){this.togglePlayback();return}this.setSpotifyEmbedUrl(e),this.playPlaybackFromStart()}playPlaybackFromStart(){this.spotifyPlaybackState.position=0,this.spotifyPlaybackState.isBuffering=!0,this.playbackSeekValue=this.spotifyPlaybackState.position,this.sendSpotifyEmbedCommand({command:"play_from_start"})}togglePlayback(){this.spotifyPlaybackState.isPaused?this.sendSpotifyEmbedCommand({command:"resume"}):this.sendSpotifyEmbedCommand({command:"pause"})}seekPlaybackStart(){this.seekDragging=!0}seekPlayback(e=void 0){this.seekDragging=!1,e===void 0&&(e=this.playbackSeekValue/1e3),e<1?this.playPlaybackFromStart():this.sendSpotifyEmbedCommand({command:"seek",timestamp:e}),this.spotifyPlaybackState.position=this.playbackSeekValue,this.spotifyPlaybackState.isBuffering=!0}setSpotifyEmbedUrl(e){this.spotifyEmbedReady=!1,this.spotifyPlaybackState={isPaused:!0,isBuffering:!0,duration:0,position:0},this.spotifyEmbedUrl=e}messageEvent(e){if(e.origin=="https://open.spotify.com")if(e.data.type=="ready")this.spotifyEmbedReady=!0,this.spotifyPlaybackState.isBuffering=!1,this.sendSpotifyEmbedCommand(this.replaySpotifyEmbedCommand),this.replaySpotifyEmbedCommand=null;else if(e.data.type=="playback_update"){if(this.spotifyPlaybackState=Ee(ce({},this.spotifyPlaybackState),{duration:e.data.payload.duration,isPaused:e.data.payload.isPaused,isBuffering:this.spotifyPlaybackState.isBuffering&&this.spotifyPlaybackState.position==e.data.payload.position}),Math.abs(this.spotifyPlaybackState.position-e.data.payload.position)<2e3){if(!this.seekDragging&&this.track_n<this.gamePlaylist.length&&this.gamePlaylist[this.track_n].track_url==this.spotifyEmbedUrl){let n=e.data.payload.position-this.spotifyPlaybackState.position;n>0&&(this.timeListened+=n)}this.spotifyPlaybackState.position=e.data.payload.position}this.seekDragging||(this.playbackSeekValue=this.spotifyPlaybackState.position),this.spotifyPlaybackState.position==this.spotifyPlaybackState.duration&&(this.spotifyPlaybackState.isPaused=!0),vt()||(this.spotifyPlaybackState.isPaused=!0)}else console.log(e)}sendSpotifyEmbedCommand(e){if(e!=null){if(e.command=="play_from_start"&&(this.spotifyPlaybackState=Ee(ce({},this.spotifyPlaybackState),{isPaused:!0,isBuffering:!0,position:0})),!this.spotifyEmbedReady){this.replaySpotifyEmbedCommand=e;return}document.getElementById("spotify-embed").contentWindow.postMessage(e,"*")}}dragMoved(e){let n=e.pointerPosition.y,o=window.innerHeight||document.body.clientHeight,l=.25;if(n<o*l){let d=Math.min(1,(o*l-n)/(l*o));this.currentScrollStep=-d*d*20}else if(n>o*(1-l)){let d=Math.min(1,(n-o*(1-l))/(l*o));this.currentScrollStep=d*d*20}else this.currentScrollStep=0}dragReleased(e){this.currentScrollStep=0}dragEnded(e){}move(e){this.lastGuess&&(this.lastGuess.hideAnimation=!0);let n=this.firstDate;e.currentIndex>0&&(n=this.guessedTracks[e.currentIndex-1].date);let o=this.lastDate;e.currentIndex<this.guessedTracks.length&&(o=this.guessedTracks[e.currentIndex].date);let l=`${n.getFullYear()} \u2212 ${o.getFullYear()}`;n.getFullYear()==o.getFullYear()&&(l=`${n.getFullYear()}`);let d=document.getElementsByClassName("drag-live-hack");for(let p=0;p<d.length;p++)d[p].innerHTML=l;this.dragInnerText=l,this.yearText=l}drop(e){e.previousContainer===e.container?ui(e.container.data,e.previousIndex,e.currentIndex):xn(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}revert(){this.newd=[-1];let e=this.tracks.indexOf(-1);e>-1&&this.tracks.splice(e,1),this.resetGuess()}sortPredicate(){return(e,n)=>e==0||e>=this.guessedTracks.length||this.guessedTracks[e-1].date.getFullYear()!=this.guessedTracks[e].date.getFullYear()}noReturnPredicate(){return!1}};t.\u0275fac=function(n){return new(n||t)(G(Gi),G(Bn),G(ji),G(Hi),G(Mi))},t.\u0275cmp=Ft({type:t,selectors:[["app-play"]],hostBindings:function(n,o){n&1&&U("resize",function(d){return o.resizeEvent(d)},!1,Bt)("message",function(d){return o.messageEvent(d)},!1,Bt)},standalone:!0,features:[Wt],decls:37,vars:21,consts:[["class","flex flex-col min-h-[100vh]",4,"ngIf","ngIfElse"],["loadingSpinner",""],[3,"loading","close",4,"ngIf"],[1,"modal"],[1,"modal-box"],[1,"stat"],[1,"stat-title"],[1,"stat-value","flex","flex-row","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","fill","none",1,"w-8","h-8"],["d","M26 19.3399C26 25.4393 20.9491 30.3451 14.8501 29.981C8.58145 29.6067 4.2892 23.5781 5.09774 17.2765C5.58685 13.4429 7.38361 10.1555 9.34008 7.6065C9.67947 7.16144 10.0288 10.7422 10.3782 10.3477C10.7276 9.94307 13.9717 4.32923 15.0997 2.35679C15.3093 1.99265 15.7884 1.88139 16.1278 2.14438C18.3937 3.85382 26 10.2769 26 19.3399Z","fill","#FF6723"],["d","M23 21.8512C23 25.893 19.4812 29.142 15.2011 28.9952C10.5815 28.8386 7.41254 24.6109 8.09159 20.256C9.06903 14.0124 15.4789 10 15.4789 10C15.4789 10 23 14.7072 23 21.8512Z","fill","#FFB02E"],[1,"stat-value"],[1,"stat-desc"],["routerLink","/home",1,"btn","btn-neutral","w-full","btn-lg","text-xl","font-bold"],["method","dialog",1,"modal-backdrop"],[3,"click"],["class","modal modal-open",4,"ngIf"],[1,"flex","flex-col","min-h-[100vh]"],[1,"bg-base-200","min-h-[5rem]","fixed-overlay","padding-inset-top","w-full",2,"top","0"],[1,"w-full","flex","flex-row","justify-center","items-center","p-4"],[1,"flex","w-full","max-w-lg","justify-between","flex-row","gap-3"],[1,"flex","flex-row","gap-3","items-center","text-3xl","font-bold"],[1,"btn","btn-neutral",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"],[1,"flex","flex-row","items-center","justify-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","fill","none",1,"flicker-animation","w-8","h-8",3,"ngStyle"],["fill","var(--fc1)","d","M26 19.3399C26 25.4393 20.9491 30.3451 14.8501 29.981C8.58145 29.6067 4.2892 23.5781 5.09774 17.2765C5.58685 13.4429 7.38361 10.1555 9.34008 7.6065C9.67947 7.16144 10.0288 10.7422 10.3782 10.3477C10.7276 9.94307 13.9717 4.32923 15.0997 2.35679C15.3093 1.99265 15.7884 1.88139 16.1278 2.14438C18.3937 3.85382 26 10.2769 26 19.3399Z"],["fill","var(--fc2)","d","M23 21.8512C23 25.893 19.4812 29.142 15.2011 28.9952C10.5815 28.8386 7.41254 24.6109 8.09159 20.256C9.06903 14.0124 15.4789 10 15.4789 10C15.4789 10 23 14.7072 23 21.8512Z"],[1,"flex","flex-row","flex-wrap-reverse","items-center","justify-end","text-3xl","font-bold","gap-2"],[1,"flex","items-center","justify-center"],[1,"min-w-10","h-10","flex","items-center","justify-center","bg-success","text-success-content","rounded","py-1","px-2"],[1,"min-w-10","h-10","flex","items-center","justify-center","bg-error","text-error-content","rounded","py-1","px-2"],[1,"w-full","flex","flex-col","justify-center","items-center","flex-grow"],["id","all","cdkDropList","","cdkDropListAutoScrollDisabled","","cdkDropListConnectedTo","newd",1,"drag-list","flex","flex-col","w-full","flex-grow","justify-center","items-center","gap-3","px-2",2,"padding-top","calc(100vh - 11rem - 7rem)","padding-bottom","calc(100vh - 5rem - 7rem)",3,"cdkDropListData","cdkDropListSortPredicate","cdkDropListDropped","cdkDropListEntered","cdkDropListSorted"],[1,"bg-base-200","min-h-[11rem]","fixed-overlay","padding-inset-bottom","w-full",2,"bottom","0"],[1,"w-full","flex","flex-col","min-h-[11rem]","justify-end","items-center","gap-3","py-4","px-2"],[4,"ngIf","ngIfElse"],["ending",""],[1,"flex","flex-row","px-2","gap-2","items-center","w-full","max-w-lg"],[1,"flex","flex-row","items-center"],[1,"btn","btn-circle",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M21 16.811c0 .864-.933 1.406-1.683.977l-7.108-4.061a1.125 1.125 0 0 1 0-1.954l7.108-4.061A1.125 1.125 0 0 1 21 8.689v8.122ZM11.25 16.811c0 .864-.933 1.406-1.683.977l-7.108-4.061a1.125 1.125 0 0 1 0-1.954l7.108-4.061a1.125 1.125 0 0 1 1.683.977v8.122Z"],[1,"btn","btn-secondary","btn-circle",3,"click"],[3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor","class","w-6 h-6",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","4","stroke","currentColor","class","w-6 h-6",4,"ngIf"],["type","range","min","0",1,"range",3,"max","ngModel","ngModelOptions","input","change","ngModelChange"],[1,"modal-box","bg-error","text-error-content"],[4,"ngIf"],["method","dialog",1,"modal-backdrop",2,"z-index","3000"],["id","spotify-embed","width","1","height","1","frameBorder","0","allow","autoplay; clipboard-write; encrypted-media; picture-in-picture",1,"hidden",3,"src"],["cdkDrag","",1,"drag-list-item","rounded-lg","bg-primary","text-primary-content","shadow-xl","p-4","w-full","max-w-lg",3,"cdkDragData","cdkDragMoved","cdkDragReleased","cdkDragEnded"],[1,"font-bold","text-3xl","drag-live-hack"],[1,"btn","btn-neutral","btn-circle","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","4","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 5.25v13.5m-7.5-13.5v13.5"],["cdkDrag","","cdkDragDisabled","",1,"drag-list-item","rounded-lg","bg-neutral","text-neutral-content","shadow-xl","p-4","w-full","max-w-lg","gap-3",3,"ngClass"],[1,"flex","flex-row","items-center","gap-3"],["draggable","false","target","_blank",1,"btn","rounded-none","border-0","p-0","w-20","md:w-24","h-20","md:h-24","overflow-visible","animate-none",3,"href"],["draggable","false",1,"w-full","h-full",3,"src"],[1,"flex","flex-col","justify-center","gap-2","text-left","overflow-hidden"],[1,"font-bold","leading-6","line-clamp-2","overflow-anywhere"],[1,"line-clamp-2","overflow-anywhere"],[1,"flex","flex-col","items-center","gap-2"],[1,"font-bold","text-3xl"],[1,"btn","btn-circle","bg-blur",3,"click"],["id","newd","cdkDropList","","cdkDropListAutoScrollDisabled","","cdkDropListConnectedTo","all",1,"drag-list","w-full","flex","flex-grow","items-center","justify-center",3,"cdkDropListData","cdkDropListEnterPredicate","cdkDropListDropped"],["class","flex flex-row justify-center items-center gap-2 md:gap-4",4,"ngIf"],[1,"flex","flex-row","justify-center","items-center","gap-2","md:gap-4"],[1,"btn","btn-circle","btn-neutral",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"],[1,"join"],[1,"join-item","rounded-lg","flex","justify-center","items-center","px-6","bg-primary","text-primary-content","font-bold","text-2xl","md:text-3xl"],[1,"drag-live-hack","text-nowrap"],[1,"join-item","btn","btn-circle","btn-success","btn-lg",3,"click"],["stroke-width","3.5","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-7","h-7","md:w-8","md:h-8"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 12.75 6 6 9-13.5"],["class","drag-list-item rounded-lg bg-primary text-primary-content shadow-xl p-4 w-full max-w-lg","cdkDrag","",3,"cdkDragData"],[1,"btn","btn-primary","btn-lg","text-primary-content","text-2xl","md:text-3xl",3,"click"],[1,"font-bold","text-lg","md:text-2xl","mb-3"],[1,"flex","flex-row","gap-3","justify-between"],[1,"w-20","md:w-24","h-fit",3,"src"],[1,"flex","flex-col","justify-center","gap-2","overflow-hidden"],[1,"flex","flex-col","items-center","justify-center","gap-2"],[1,"font-bold","text-4xl"],[1,"mt-4","text-lg"],[1,"font-bold","text-xl"],["class","w-full text-center padding-inset-top mt-6",4,"ngIf"],[1,"w-full","text-center","padding-inset-top","mt-6"],[1,"loading","loading-spinner","loading-lg"],[3,"loading","close"],[1,"modal","modal-open"],[1,"modal-box","flex","flex-col","justify-center","items-center","text-center","gap-4"],[1,"flex","flex-row","w-full","gap-2"],["disabled","",1,"flex-grow","btn","btn-lg","text-xl","font-bold"],[1,"btn","btn-square","btn-lg","swap","swap-rotate"],["type","checkbox",3,"change"],["stroke-width","1.5","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"swap-off","fill-current","w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","fill","none",1,"swap-on","w-8","h-8"],["fill","oklch(var(--su))","d","M2 6C2 3.79086 3.79086 2 6 2H26C28.2091 2 30 3.79086 30 6V26C30 28.2091 28.2091 30 26 30H6C3.79086 30 2 28.2091 2 26V6Z"],["fill","oklch(var(--suc))","d","M13.242 23C12.8588 23 12.4757 22.8566 12.183 22.5692L6.43855 16.9278C5.85382 16.3535 5.85382 15.422 6.43855 14.8477C7.02329 14.2735 7.97186 14.2735 8.55659 14.8477L13.242 19.4491L23.4434 9.43069C24.0281 8.85644 24.9767 8.85644 25.5614 9.43069C26.1462 10.0049 26.1462 10.9365 25.5614 11.5107L14.301 22.5692C14.009 22.8566 13.6252 23 13.242 23Z"],["routerLink","/home",1,"btn","btn-secondary","w-full","btn-lg","text-xl","font-bold"],[1,"btn","btn-neutral","w-full","btn-lg","text-xl","font-bold",3,"click"],[1,"divider"],[1,"btn","w-full","btn-lg","text-xl","font-bold",3,"click"]],template:function(n,o){if(n&1&&(se(0,Wr,46,23,"div",0)(1,$r,1,1,"ng-template",null,1,Ut)(3,Zr,1,1,"app-starting-modal",2),y(4,"dialog",3)(5,"div",4)(6,"div",5)(7,"div",6),R(8,"Highest Streak"),b(),y(9,"div",7),R(10),X(),y(11,"svg",8),W(12,"path",9)(13,"path",10),b()()(),xe(),y(14,"div",5)(15,"div",6),R(16,"Guessed Right"),b(),y(17,"div",11),R(18),_t(19,"number"),b(),y(20,"div",12),R(21),b()(),y(22,"div",5)(23,"div",6),R(24,"Time listened"),b(),y(25,"div",11),R(26),_t(27,"number"),b(),y(28,"div",12),R(29),_t(30,"number"),b()(),y(31,"a",13),R(32," New Game "),b()(),y(33,"div",14)(34,"button",15),U("click",function(){return o.closeEndModal()}),R(35,"close"),b()()(),se(36,qr,22,0,"dialog",16)),n&2){let l=zt(2);M("ngIf",!o.loading)("ngIfElse",l),S(3),M("ngIf",o.startingModal),S(),he("modal-open",o.endModal),S(6),ge(" ",o.totalStats.highestStreak," "),S(8),ge("",mt(19,12,o.totalStats.guessedRight+o.totalStats.guessedWrong>0?o.totalStats.guessedRight*100/(o.totalStats.guessedRight+o.totalStats.guessedWrong):0,"1.0-0")," %"),S(3),pt("of ",o.totalStats.guessedRight+o.totalStats.guessedWrong," Song",o.totalStats.guessedRight+o.totalStats.guessedWrong!=1?"s":"",""),S(5),ge("",mt(27,15,o.totalStats.totalTimeListened/1e3,"1.0-0"),"s"),S(3),ge("~ ",mt(30,18,o.totalStats.totalTimeListened/1e3/(o.totalStats.guessedRight+o.totalStats.guessedWrong>0?o.totalStats.guessedRight+o.totalStats.guessedWrong:1),"1.1-1"),"s per song"),S(7),M("ngIf",o.menuModal)}},dependencies:[An,Pn,Bi,Oi,Li,Fi,Ni,Yi,Ui,qi,$i,Zi,Wi,zi,tn],styles:["@keyframes _ngcontent-%COMP%_flame{0%{transform:rotate(-7deg) scale(.9);filter:drop-shadow(0 0 .1rem var(--fc1))}to{transform:rotate(+7deg) scale(1);filter:drop-shadow(0 0 .3rem var(--fc2))}}.flicker-animation[_ngcontent-%COMP%]{--fc1: #FF6723;--fc2: #FFB02E;animation:_ngcontent-%COMP%_flame linear infinite alternate;animation-duration:0s;filter:grayscale(1)}.fixed-overlay[_ngcontent-%COMP%]{box-shadow:0 0 2rem 1rem #00000040;z-index:500;position:fixed}@media (prefers-color-scheme: dark){.fixed-overlay[_ngcontent-%COMP%]{box-shadow:0 0 2rem 1rem #00000080}}.drag-list-item.cdk-drag-disabled[_ngcontent-%COMP%]{cursor:default}.drag-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move}.cdk-drag-placeholder[_ngcontent-%COMP%]{background-color:oklch(var(--p) / .2);color:oklch(var(--pc) / .2);z-index:-1;transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%] > .btn-circle[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.drag-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-list-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]});let a=t;return a})();export{go as PlayComponent};
